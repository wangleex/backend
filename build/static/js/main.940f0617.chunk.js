(this["webpackJsonplion-frontend"]=this["webpackJsonplion-frontend"]||[]).push([[0],{100:function(e,t,a){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__read||function(e,t){var a="function"===typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){r={error:l}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=a(109),c=i(a(3)),u=o(a(0)),s=a(94),d=a(208);function m(e){return u.default.createElement(l.Slide,n({},e,{direction:"up"}))}t.NotificationSnackBar=function(e){var t=e.data,a=t.message,n=t.isError,i=e.onClose,o=null==a||d.isStringEmpty(a),p=r(u.useState(!o),2),f=p[0],E=p[1],h=u.useCallback((function(){E(!1),i()}),[E,i]);u.useEffect((function(){E(!o)}),[o]);var v=s.snackBarStyles();return u.default.createElement(l.Snackbar,{open:f,TransitionComponent:m,message:u.default.createElement("div",{className:n?v.content:c.default(v.content,v.success)},a),action:u.default.createElement(l.Button,{color:"secondary",size:"small",onClick:h},"Close")})}},1067:function(e,t,a){e.exports=a(1798)},1076:function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function l(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,l)}c((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(l){i=[6,l],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(85),l=a(20),c=a(60),u=i(a(97));t.loadServers=function(e,t){return n(this,void 0,void 0,(function(){var a,n,i,s,d;return r(this,(function(r){switch(r.label){case 0:return[4,u.default.get(o.apiEndpoints.server.endpoints.serversList.url)];case 1:return a=r.sent(),n=a.data,null!=(i=c.getGeneralError(n))?[2,l.notificationData.makeError(i)]:(t&&(s=n.data,d=new Map(s.map((function(e){return[e.name,e]}))),e(d)),[2,l.notificationData.makeEmpty()])}}))}))}},1093:function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function l(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,l)}c((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(l){i=[6,l],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},i=this&&this.__read||function(e,t){var a="function"===typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){r={error:l}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c=a(85),u=a(100),s=a(19),d=a(20),m=a(117),p=a(60),f=a(208),E=a(109),h=o(a(1094)),v=o(a(379)),y=o(a(280)),b=o(a(97)),g=o(a(3)),S=l(a(0)),O=a(115),w=a(718),j=a(314);function k(e){return"server"in e}function x(e){return!f.isStringEmpty(e)}function T(e){return x(e)?e:""}t.ServerEdit=function(e){var t=this,a=i(S.useState(k(e)?e.server.name:""),2),o=a[0],l=a[1],N=i(S.useState(k(e)?e.server.url:""),2),D=N[0],C=N[1],_=i(S.useState(k(e)?e.server.slug:""),2),A=_[0],R=_[1],L=i(S.useState(k(e)?e.server.description:""),2),P=L[0],U=L[1],I=i(S.useState(!!k(e)&&e.server.requireAuthentication),2),q=I[0],B=I[1],M=i(S.useState(!!k(e)&&e.server.requireAuthorization),2),W=M[0],z=M[1],V=i(S.useState(""),2),F=V[0],H=V[1],G=i(S.useState(""),2),Q=G[0],Y=G[1],J=i(S.useState(""),2),K=J[0],X=J[1],$=i(S.useState(""),2),Z=$[0],ee=$[1],te=i(m.mutate(H),2),ae=te[0],ne=te[1],re=i(m.mutate(Y),2),ie=re[0],oe=re[1],le=i(m.mutate(X),2),ce=le[0],ue=le[1],se=i(m.mutate(ee),2),de=se[0],me=se[1],pe=i(S.useState(d.notificationData.makeEmpty()),2),fe=pe[0],Ee=pe[1],he=i(m.mutate(Ee),2),ve=he[0],ye=he[1],be=i(S.useState(j.ServerEditOption.NONE),2),ge=be[0],Se=be[1],Oe=function(e){return n(t,void 0,void 0,(function(){var t,a,n,i,o,l;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,b.default.put(c.apiEndpoints.server.endpoints.serverUpdate.url,e)];case 1:return t=r.sent(),a=t.data,n=p.getGeneralError(a),i=null===(l=a.error)||void 0===l?void 0:l.fieldError,[2,!m.joinBoolean([null!=n?ve(d.notificationData.makeError(n)):ye(d.notificationData.makeEmpty),(null===i||void 0===i?void 0:i.name)?ae(i.name):ne(""),(null===i||void 0===i?void 0:i.description)?de(i.description):me(""),(null===i||void 0===i?void 0:i.slug)?ce(i.slug):ue(""),(null===i||void 0===i?void 0:i.url)?ie(i.url):oe("")])];case 2:return o=r.sent(),ve(d.notificationData.makeError(p.getHTTPError(o))),[2,!1];case 3:return[2]}}))}))},we=w.serverStyles(),je=S.default.createElement(S.default.Fragment,null,S.default.createElement("div",null,S.default.createElement("h1",{className:we.titleStyle},k(e)?"Edit":"Create"," Server Configuration"),S.default.createElement("form",{className:we.form},S.default.createElement(E.Grid,{container:!0,spacing:4},S.default.createElement(E.Grid,{item:!0,xs:6},S.default.createElement(E.TextField,{required:!0,error:x(F),helperText:T(F),color:"secondary",id:"standard-required",label:"Server Name",defaultValue:o,onChange:function(e){l(e.target.value)}})),S.default.createElement(E.Grid,{item:!0,xs:6},S.default.createElement(E.TextField,{required:!0,error:x(K),helperText:T(K),color:"secondary",id:"standard-required",label:"Server Slug",defaultValue:A,onChange:function(e){R(e.target.value)}})),S.default.createElement(E.Grid,{item:!0,xs:12},S.default.createElement(E.TextField,{required:!0,fullWidth:!0,color:"secondary",id:"standard-required",label:"Server URL",error:x(Q),helperText:T(Q),defaultValue:D,onChange:function(e){C(e.target.value)}})),S.default.createElement(E.Grid,{item:!0,xs:6},S.default.createElement(E.FormControlLabel,{control:S.default.createElement(E.Checkbox,{color:"secondary",checked:q,onChange:function(e){B(e.target.checked)}}),label:"Require Authentication",labelPlacement:"end"})),S.default.createElement(E.Grid,{item:!0,xs:6},S.default.createElement(E.FormControlLabel,{control:S.default.createElement(E.Checkbox,{color:"secondary",checked:W,onChange:function(e){z(e.target.checked)}}),label:"Require Authorization",labelPlacement:"end"})),S.default.createElement(E.Grid,{item:!0,xs:12},S.default.createElement(E.TextField,{required:!0,multiline:!0,fullWidth:!0,id:"standard-multiline-flexible",label:"Server Description",color:"secondary",error:x(Z),helperText:T(Z),value:P,onChange:function(e){U(e.target.value)}})))),S.default.createElement("div",{className:we.buttonWrapper},S.default.createElement(E.Button,{color:"secondary",className:we.buttonRightGap,startIcon:S.default.createElement(h.default,null),onClick:function(){Se(j.ServerEditOption.BACK)}},"Back"),S.default.createElement(E.Button,{variant:"contained",color:"secondary",startIcon:S.default.createElement(y.default,null),onClick:function(){if(function(){var e="This field cannot be empty";return!m.joinBoolean([f.isStringEmpty(o)?ae(e):ne(""),f.isValidURL(D)?oe(""):ie(e),f.isStringEmpty(A)?ce(e):ue(""),f.isStringEmpty(P)?de(e):me("")])}()){var t={name:o,url:D,slug:A,description:P,requireAuthentication:q,requireAuthorization:W},a=k(e)?j.ServerUpdateType.UPDATE:j.ServerUpdateType.ADD;Oe({data:t,type:a}).then((function(a){a&&(Se(j.ServerEditOption.SAVE),e.onSave(t))}))}}},"Save"),k(e)&&S.default.createElement(E.Button,{className:g.default(we.buttonRightEnd,we.errorButton),variant:"contained",color:"secondary",startIcon:S.default.createElement(v.default,null),onClick:function(){return n(t,void 0,void 0,(function(){return r(this,(function(t){return k(e)?Oe({data:e.server,type:j.ServerUpdateType.DELETE}).then((function(t){t&&(Se(j.ServerEditOption.DELETE),e.onDelete(e.server))})):Ee(d.notificationData.makeError("Delete handler should only be invoked when editing existing server")),[2]}))}))}},"Delete Server"))),S.default.createElement(u.NotificationSnackBar,{data:fe,onClose:function(){return Ee(d.notificationData.makeEmpty())}}));return ge===j.ServerEditOption.NONE?je:S.default.createElement(O.Redirect,{to:s.routerEndpoints.servers.url})}},1095:function(e,t,a){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function l(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,l)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(l){i=[6,l],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},o=this&&this.__read||function(e,t){var a="function"===typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){r={error:l}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u=a(85),s=a(100),d=a(20),m=a(281),p=a(60),f=a(109),E=l(a(380)),h=l(a(1100)),v=l(a(381)),y=l(a(1101)),b=l(a(3)),g=l(a(282)),S=c(a(0)),O=l(a(97)),w=a(115),j=a(19),k=a(718),x=[{title:"Name",field:"name"},{title:"URL",field:"url"}];function T(e){return e?"Yes":"No"}function N(e){var t=k.serverStyles();return S.default.createElement("div",null,S.default.createElement(f.Grid,{className:b.default(t.grid,t.indentedGrid),container:!0,spacing:2},S.default.createElement(f.Grid,{item:!0,xs:4},S.default.createElement("div",{className:t.detailPanelItemTitle},"Require Authorization")),S.default.createElement(f.Grid,{item:!0,xs:8},S.default.createElement("div",{className:t.detailPanelItemContent},T(e.server.requireAuthorization))),S.default.createElement(f.Grid,{item:!0,xs:4},S.default.createElement("div",{className:t.detailPanelItemTitle},"Require Authentication")),S.default.createElement(f.Grid,{item:!0,xs:8},S.default.createElement("div",{className:t.detailPanelItemContent},T(e.server.requireAuthentication))),S.default.createElement(f.Grid,{item:!0,xs:12},S.default.createElement("div",{className:t.detailPanelItemTitle},"Description")),S.default.createElement(f.Grid,{item:!0,xs:12},S.default.createElement("div",{className:b.default(t.detailPanelItemContent,t.indentedGridItem)},e.server.description))))}t.ServerList=function(e){var t=this,a=k.serverStyles(),l=w.useHistory(),c=o(S.useState(d.notificationData.makeEmpty()),2),b=c[0],T=c[1],D=[{icon:function(){return S.default.createElement(v.default,{color:"secondary"})},tooltip:"Edit Server",onClick:function(e,t){if(Array.isArray(t))throw new Error("onClick in material table should not involve multiple server instances");l.push(j.routerEndpoints.servers.edit.urlBase+(null===t||void 0===t?void 0:t.name))}},{icon:function(){return S.default.createElement(y.default,{color:"secondary"})},tooltip:"Refresh Schema",onClick:function(e,a){if(Array.isArray(a))throw new Error("onClick in material table should not involve multiple server instances");r(t,void 0,void 0,(function(){var e,t,n,r,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e={name:a.name},[4,O.default.get(u.apiEndpoints.server.endpoints.serverRefresh.url,{params:e})];case 1:return t=i.sent().data,n=p.getGeneralError(t),T(n?d.notificationData.makeError(n):d.notificationData.makeSuccess("Server "+a.name+" successfully refreshed")),console.log("clicked "+(null!==(o=t.data)&&void 0!==o?o:"")),[3,3];case 2:return r=i.sent(),T(d.notificationData.makeError(p.getHTTPError(r))),[3,3];case 3:return[2]}}))}))}}];return S.default.createElement("div",null,S.default.createElement("h1",{className:a.titleStyle},"All Servers"),S.default.createElement("small",{className:a.helperTextStyle},'Click on "Refresh" to refresh the schema regularly'),S.default.createElement("div",{className:a.buttonWrapper},S.default.createElement(f.Button,{className:a.buttonRightEnd,color:"secondary",startIcon:S.default.createElement(E.default,null),onClick:function(){l.push(j.routerEndpoints.servers.create.url)}},"Add New Server")),S.default.createElement(g.default,{options:{toolbar:!1,showTitle:!1,search:!1,actionsColumnIndex:-1,paginationType:"stepped",pageSizeOptions:[]},columns:x,actions:D,data:Array.from(e.servers.values()),components:{Container:function(e){return S.default.createElement("div",n({},e))}},icons:m.materialTableIcons,detailPanel:[{icon:function(){return S.default.createElement(h.default,null)},tooltip:"Details",render:function(e){return S.default.createElement(N,{server:e})}}]}),S.default.createElement(s.NotificationSnackBar,{data:b,onClose:function(){return T(d.notificationData.makeEmpty())}}))}},117:function(e,t,a){"use strict";function n(e){return function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.apply(this,t),!0}}function r(e){return function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e.apply(this,t),!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.certify=n,t.falsify=r,t.mutate=function(e,t){return[n(e),r(null!==t&&void 0!==t?t:e)]},t.joinBoolean=function(e){return e.reduce((function(e,t){return e||t}),!1)}},1224:function(e,t){},1226:function(e,t){},1356:function(e,t){},1358:function(e,t){},1387:function(e,t){},1388:function(e,t){},1448:function(e,t){},1564:function(e,t){},1794:function(e,t){},1797:function(e,t,a){},1798:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),o=a(49),l=a.n(o),c=a(458),u=a(1829),s=a(28),d=a(23),m=a(4),p=a(314),f=a(88),E=a(1830),h=a(706),v=a(610),y=a(264),b=a(198),g=a(496),S=a(1836),O=a(1813),w=a(1814),j=a(1838),k=a(699),x=a(1842),T=a(1843),N=a(1844),D=a(1845),C=a(1846),_=a(1847),A=a(1848),R=a(1849),L=a(3),P=a(263),U=a(115),I=a(19),q=a(51);function B(){return{user:function(){var e=localStorage.getItem("user");return e?JSON.parse(e):e}(),queries:null,fullQuerySchemas:null,servers:null,users:null,applications:null,socialMedia:null}}!function(e){e[e.SET_USER=0]="SET_USER",e[e.REMOVE_USER=1]="REMOVE_USER",e[e.SET_FULL_SCHEMAS=2]="SET_FULL_SCHEMAS",e[e.SET_FULL_QUERIES=3]="SET_FULL_QUERIES",e[e.SET_FULL_SERVERS=4]="SET_FULL_SERVERS",e[e.SET_FULL_USERS=5]="SET_FULL_USERS",e[e.SET_FULL_APPLICATIONS=6]="SET_FULL_APPLICATIONS",e[e.SET_FULL_SOCIAL_MEDIA=7]="SET_FULL_SOCIAL_MEDIA"}(n||(n={}));var M,W,z=function(e,t){switch(t.type){case n.SET_USER:return function(e,t){var a=t.payload;return a?localStorage.setItem("user",JSON.stringify(a)):localStorage.removeItem("user"),Object(q.a)({},e,{user:t.payload})}(e,t);case n.REMOVE_USER:return function(e,t){return localStorage.removeItem("user"),Object(q.a)({},e,{user:null})}(e);case n.SET_FULL_QUERIES:return Object(q.a)({},e,{queries:t.payload});case n.SET_FULL_SCHEMAS:return Object(q.a)({},e,{fullQuerySchemas:t.payload});case n.SET_FULL_SERVERS:return Object(q.a)({},e,{servers:t.payload});case n.SET_FULL_USERS:return Object(q.a)({},e,{users:t.payload});case n.SET_FULL_APPLICATIONS:return Object(q.a)({},e,{applications:t.payload});case n.SET_FULL_SOCIAL_MEDIA:return Object(q.a)({},e,{socialMedia:t.payload});default:throw new Error("Invalid action type")}},V=Object(r.createContext)({state:B(),dispatch:function(){}}),F=V.Provider,H=B(),G=function(e){var t=e.children,a=Object(r.useReducer)(z,H),n=Object(d.a)(a,2),o=n[0],l=n[1];return i.a.createElement(F,{value:{state:o,dispatch:l}},t)},Q=a(690),Y=a(38),J=Object(Q.a)((function(e){return{root:{display:"flex"},drawer:{width:240,flexShrink:0},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawerHeader:Object(q.a)({display:"flex"},e.mixins.toolbar),drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(4),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240,marginTop:"70px"},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},nameCardWrapper:{width:"100%"},nameCardHeader:{margin:"0 0",color:"#212121",fontSize:"1.5rem"},nameCard:{width:"100%",marginTop:"64px",padding:e.spacing(0,0,2,2),display:"flex",flexDirection:"column",alignItems:"flex-start"},linkNoStyle:{textDecoration:"none",color:"#212121",fontSize:"0.75rem"},linkActiveStyle:{"&> div":{backgroundColor:Object(Y.d)(e.palette.primary.main,.8)}}}}));!function(e){e[e.LIST=0]="LIST",e[e.NEW=1]="NEW",e[e.HISTORY=2]="HISTORY"}(M||(M={})),function(e){e[e.NEW=0]="NEW",e[e.HISTORY=1]="HISTORY",e[e.NONE=2]="NONE"}(W||(W={}));var K=a(956),X=Object(r.memo)((function(e){var t=e.updateTitle,a=e.routeType,o=Object(r.useContext)(V),l=o.state,c=o.dispatch;return Object(r.useEffect)((function(){t(I.routerEndpoints.servers.name)}),[t]),i.a.createElement(K.ServerManagement,{routeType:a,data:l.servers,onChange:function(e){return c({type:n.SET_FULL_SERVERS,payload:e})}})})),$=a(1001),Z=Object(r.memo)((function(e){var t=e.updateTitle;return Object(r.useEffect)((function(){t(I.routerEndpoints.translator.name)}),[t]),i.a.createElement($.a,null)})),ee=a(39),te=a.n(ee),ae=a(80),ne=a(100),re=a(20),ie=a(60),oe=a(85),le=a(97),ce=a.n(le);function ue(e,t){return se.apply(this,arguments)}function se(){return(se=Object(ae.a)(te.a.mark((function e(t,a){var n,r,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get(oe.apiEndpoints.user.endpoints.usersList.url);case 2:if(n=e.sent.data,!(r=Object(ie.getGeneralError)(n))){e.next=6;break}return e.abrupt("return",re.notificationData.makeError(r));case 6:return a&&(i=new Map(n.data.map((function(e){return[e.email,e]}))),t(i)),e.abrupt("return",re.notificationData.makeEmpty());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de,me=a(117),pe=a(208),fe=a(1832),Ee=a(1837),he=a(708),ve=a(695),ye=a(951),be=a(693),ge=a(379),Se=a.n(ge),Oe=a(280),we=a.n(Oe),je=a(94),ke=Object(Q.a)((function(e){return Object(q.a)({},Object(je.commonPageStyles)(e),{},Object(je.errorButtonStyles)(e),{},Object(je.commonButtonStyles)(e),{},Object(je.formStyles)(e),{formContainer:{margin:"2.5rem auto 0 0"},buttons:{marginTop:"2rem"}})}));function xe(e){var t,a=Object(r.useState)(e.user.quota.toString()),n=Object(d.a)(a,2),o=n[0],l=n[1],c=Object(r.useState)(!0),u=Object(d.a)(c,2),s=u[0],m=u[1],p=Object(r.useState)(""),f=Object(d.a)(p,2),E=f[0],h=f[1],v=Object(r.useState)(re.notificationData.makeEmpty()),y=Object(d.a)(v,2),b=y[0],g=y[1],S=Object(me.mutate)(h),O=Object(d.a)(S,2),w=O[0],j=O[1],k=Object(me.mutate)(g),x=Object(d.a)(k,2),T=x[0],N=x[1],D=ke(),C=function(){var e=Object(ae.a)(te.a.mark((function e(t){var a,n,r,i,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.put(oe.apiEndpoints.user.endpoints.userUpdate.url,t);case 3:return n=e.sent.data,r=Object(ie.getGeneralError)(n),i=null===(a=n.error)||void 0===a?void 0:a.fieldError,o=Object(me.joinBoolean)([r?T(re.notificationData.makeError(r)):N(re.notificationData.makeEmpty()),(null===i||void 0===i?void 0:i.quota)?w(i.quota):j("")]),e.abrupt("return",!o);case 10:return e.prev=10,e.t0=e.catch(0),g(re.notificationData.makeError(Object(ie.getHTTPError)(e.t0))),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var t=Object(ae.a)(te.a.mark((function t(){var a,n;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Object(pe.isValidNumber)(o)?j(""):w("Input must be a number"))){t.next=2;break}return t.abrupt("return");case 2:return a=+o,n={type:de.UPDATE,data:Object(q.a)({},e.user,{quota:a})},t.next=6,C(n);case 6:if(!t.sent){t.next=8;break}e.onSave(n.data);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(ae.a)(te.a.mark((function t(){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={type:de.DELETE,data:e.user},t.next=3,C(a);case 3:if(!t.sent){t.next=5;break}e.onDelete(e.user.email);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("h1",{className:D.titleStyle},"Edit User"),i.a.createElement("small",{className:D.helperTextStyle},"For quota, Please enter a decimal number; a number with more than 3 digits after the decimal point will be truncated"),i.a.createElement(fe.a,{className:D.formContainer,disableGutters:!0,maxWidth:"md"},i.a.createElement(Ee.a,{container:!0,spacing:4},i.a.createElement(Ee.a,{item:!0,xs:6},i.a.createElement(he.a,{fullWidth:!0,disabled:!0,color:"secondary",label:"Name",value:e.user.name})),i.a.createElement(Ee.a,{item:!0,xs:6},i.a.createElement(he.a,{disabled:!0,fullWidth:!0,color:"secondary",label:"Email Address",value:e.user.email})),i.a.createElement(Ee.a,{item:!0,xs:6},i.a.createElement(he.a,{required:!0,fullWidth:!0,color:"secondary",label:"Quota Limit",value:o,error:!!E,onChange:function(e){l(e.target.value)},helperText:null!==(t=E)&&void 0!==t?t:""})),i.a.createElement(Ee.a,{item:!0,xs:6},i.a.createElement(ve.a,{control:i.a.createElement(ye.a,{checked:s,color:"secondary",onChange:function(e){m(e.target.checked)}}),label:"Is administrator access granted"}))),i.a.createElement("div",{className:Object(L.default)(D.buttonWrapper,D.buttons)},i.a.createElement(be.a,{variant:"contained",color:"secondary",startIcon:i.a.createElement(we.a,null),onClick:_},"Save Configuration"),i.a.createElement(be.a,{className:Object(L.default)(D.errorButton,D.buttonRightEnd),variant:"contained",startIcon:i.a.createElement(Se.a,null),onClick:A},"Delete User")))),i.a.createElement(ne.NotificationSnackBar,{data:b,onClose:function(){return g(re.notificationData.makeEmpty())}}))}!function(e){e[e.DELETE=0]="DELETE",e[e.UPDATE=1]="UPDATE"}(de||(de={}));var Te=a(281),Ne=a(381),De=a.n(Ne),Ce=a(282),_e=a.n(Ce),Ae=[{title:"User name",field:"name"},{title:"Quota used",field:"usedQuota"},{title:"Quota available",field:"quota"}],Re=Object(r.memo)((function(e){var t=[{icon:function(){return i.a.createElement(De.a,{color:"secondary"})},tooltip:"Edit User",onClick:function(t,a){if(Array.isArray(a))throw new Error("onClick in material table should not involve multiple user instances");e.onEdit(a)}}],a=ke();return i.a.createElement("div",null,i.a.createElement("h1",{className:a.titleStyle},"Manage Users"),i.a.createElement("div",{className:a.form},i.a.createElement(_e.a,{options:{toolbar:!1,showTitle:!1,search:!1,actionsColumnIndex:-1,paginationType:"stepped",pageSizeOptions:[]},columns:Ae,actions:t,data:Array.from(e.users.values()),components:{Container:function(e){return i.a.createElement("div",e)}},icons:Te.materialTableIcons})))}));var Le,Pe=Object(r.memo)((function(e){var t,a=e.updateTitle,o=Object(r.useState)(re.notificationData.makeEmpty()),l=Object(d.a)(o,2),c=l[0],u=l[1],s=Object(P.m)()[I.routerEndpoints.queries.history.paramName],m=Object(r.useContext)(V),p=m.state,f=m.dispatch,E=Object(P.k)();Object(r.useEffect)((function(){a(I.routerEndpoints.users.name)}),[a]),Object(r.useEffect)((function(){var e=!0;if(null==p.users)return Object(ae.a)(te.a.mark((function t(){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue((function(e){return f({type:n.SET_FULL_USERS,payload:e})}),e);case 3:a=t.sent,e&&u(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),u(re.notificationData.makeError(Object(ie.getHTTPError)(t.t0)));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[p,f]);var h=null!==(t=p.users)&&void 0!==t?t:new Map,v=i.a.createElement(Re,{users:h,onEdit:function(e){var t;e.email&&E.push(I.routerEndpoints.users.edit.urlBase+(t=e.email,encodeURI(t)))}});if(e.isEdit&&null!=s){var y=h.get(decodeURI(s));null!=y&&(v=i.a.createElement(xe,{onDelete:function(e){var t,a,r=new Map(h);if((null===(t=r.get(e))||void 0===t?void 0:t.email)===(null===(a=p.user)||void 0===a?void 0:a.email))return r.delete(e),f({type:n.SET_USER,payload:null}),void f({type:n.SET_FULL_USERS,payload:r});r.delete(e),f({type:n.SET_FULL_USERS,payload:r}),u(re.notificationData.makeSuccess("Successfully updated users")),E.push(I.routerEndpoints.users.url)},onSave:function(e){var t=new Map(h);t.set(e.email,e),f({type:n.SET_FULL_USERS,payload:t}),u(re.notificationData.makeSuccess("Successfully updated users")),E.push(I.routerEndpoints.users.url)},user:y}))}return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,v),i.a.createElement(ne.NotificationSnackBar,{data:c,onClose:function(){return u({isError:!0,message:null})}}))})),Ue=a(1851),Ie=a(37),qe=a(996),Be=a.n(qe),Me=Object(Q.a)((function(e){return Object(q.a)({},Object(je.commonPageStyles)(e),{},Object(je.errorButtonStyles)(e),{},Object(je.commonButtonStyles)(e),{},Object(je.formStyles)(e),{submitButtonWrapper:{marginTop:e.spacing(4)}})}));!function(e){e[e.UPDATE=0]="UPDATE",e[e.DELETE=1]="DELETE",e[e.CREATE=2]="CREATE"}(Le||(Le={}));function We(e){var t,a=Object(r.useState)(e.existingApplication?e.existingApplication:{}),n=Object(d.a)(a,2),o=n[0],l=n[1],c=Object(r.useState)({}),u=Object(d.a)(c,2),s=u[0],m=u[1],p=Object(r.useState)(re.notificationData.makeEmpty()),f=Object(d.a)(p,2),E=f[0],h=f[1],v=Object(me.mutate)(m),y=Object(d.a)(v,2),b=y[0],g=y[1],S=Object(me.mutate)(h),O=Object(d.a)(S,2),w=O[0],j=O[1],k=Me(),x=function(e,t){var a=e.target.value;l((function(e){return Ie.stringDict.update(e,t,a)}))},T=function(){return!Object(me.joinBoolean)([Ie.stringDict.isValueEmpty(o,"name")?b((function(e){return Ie.stringDict.update(e,"name","Name must not be empty")})):g((function(e){return Ie.stringDict.unset(e,"name")})),Ie.stringDict.validate(o,"callbackURL",pe.isValidURL)?g((function(e){return Ie.stringDict.unset(e,"callbackURL")})):b((function(e){return Ie.stringDict.update(e,"callbackURL","callbackURL must not be empty")})),Ie.stringDict.isValueEmpty(o,"home")?b((function(e){return Ie.stringDict.update(e,"home","Home must not be empty")})):g((function(e){return Ie.stringDict.unset(e,"home")}))])},N=function(){var e=Object(ae.a)(te.a.mark((function e(t){var a,n,r,i,o;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.put(oe.apiEndpoints.application.endpoints.applicationUpdate.url,t);case 3:return n=e.sent.data,r=Object(ie.getGeneralError)(n),i=null===(a=n.error)||void 0===a?void 0:a.fieldError,o=Object(me.joinBoolean)([r?w(re.notificationData.makeError(r)):j(re.notificationData.makeEmpty()),(null===i||void 0===i?void 0:i.callbackURL)?b((function(e){return Ie.stringDict.update(e,"callbackURL",i.callbackURL)})):g((function(e){return Ie.stringDict.unset(e,"callbackURL")})),(null===i||void 0===i?void 0:i.home)?b((function(e){return Ie.stringDict.update(e,"home",i.home)})):g((function(e){return Ie.stringDict.unset(e,"home")})),(null===i||void 0===i?void 0:i.name)?b((function(e){return Ie.stringDict.update(e,"name",i.name)})):g((function(e){return Ie.stringDict.unset(e,"name")}))]),e.abrupt("return",!o);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!w(re.notificationData.makeError(Object(ie.getHTTPError)(e.t0))));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var t=Object(ae.a)(te.a.mark((function t(){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T()){t.next=2;break}return t.abrupt("return");case 2:return a={type:Le.CREATE,data:o},t.next=5,N(a);case 5:if(!t.sent){t.next=7;break}e.onCreate(o);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=Object(ae.a)(te.a.mark((function t(){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T()){t.next=2;break}return t.abrupt("return");case 2:return a={type:Le.UPDATE,data:o},t.next=5,N(a);case 5:if(!t.sent){t.next=7;break}e.onUpdate(o);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(ae.a)(te.a.mark((function t(){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={type:Le.DELETE,data:o},t.next=3,N(a);case 3:if(!t.sent){t.next=5;break}e.onDelete(o);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t=e.existingApplication?i.a.createElement("div",{className:Object(L.default)(k.submitButtonWrapper,k.buttonWrapper)},i.a.createElement(be.a,{variant:"contained",color:"secondary",onClick:C,startIcon:i.a.createElement(Be.a,null)},"Update Application"),i.a.createElement(be.a,{className:Object(L.default)(k.buttonRightEnd,k.errorButton),variant:"contained",onClick:_,startIcon:i.a.createElement(Se.a,null)},"Delete Application")):i.a.createElement("div",{className:Object(L.default)(k.submitButtonWrapper,k.buttonWrapper)},i.a.createElement(be.a,{variant:"contained",color:"secondary",onClick:D,startIcon:i.a.createElement(we.a,null)},"Save Application")),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("h1",{className:k.titleStyle},e.existingApplication?"Edit Application":"Create Application"),i.a.createElement(fe.a,{className:k.form,disableGutters:!0,maxWidth:"sm"},i.a.createElement(Ee.a,{container:!0,spacing:4},i.a.createElement(Ee.a,{item:!0,xs:12},i.a.createElement(he.a,{required:!0,fullWidth:!0,color:"secondary",value:Ie.stringDict.getValueWithDefault(o,"name"),label:"Name",error:Ie.stringDict.isValueNonempty(s,"name"),helperText:Ie.stringDict.getValueWithDefault(s,"name"),onChange:function(e){return x(e,"name")}})),i.a.createElement(Ee.a,{item:!0,xs:12},i.a.createElement(he.a,{required:!0,fullWidth:!0,color:"secondary",value:Ie.stringDict.getValueWithDefault(o,"callbackURL"),label:"Callback URL",error:Ie.stringDict.isValueNonempty(s,"callbackURL"),helperText:Ie.stringDict.getValueWithDefault(s,"callbackURL"),onChange:function(e){return x(e,"callbackURL")}})),i.a.createElement(Ee.a,{item:!0,xs:12},i.a.createElement(he.a,{required:!0,fullWidth:!0,color:"secondary",value:Ie.stringDict.getValueWithDefault(o,"home"),label:"Home",error:Ie.stringDict.isValueNonempty(s,"home"),helperText:Ie.stringDict.getValueWithDefault(s,"home"),onChange:function(e){return x(e,"home")}})),i.a.createElement(Ee.a,{item:!0,xs:12},i.a.createElement(he.a,{multiline:!0,fullWidth:!0,color:"secondary",value:Ie.stringDict.getValueWithDefault(o,"description"),label:"Description",error:Ie.stringDict.isValueNonempty(s,"description"),helperText:Ie.stringDict.getValueWithDefault(s,"description"),onChange:function(e){return x(e,"description")}}))),t)),i.a.createElement(ne.NotificationSnackBar,{data:E,onClose:function(){return h(re.notificationData.makeEmpty())}}))}var ze=a(380),Ve=a.n(ze),Fe=[{title:"Name",field:"name"},{title:"Home",field:"home"}],He=Object(r.memo)((function(e){var t=Me(),a=[{icon:function(){return i.a.createElement(De.a,{color:"secondary"})},tooltip:"Edit Server",onClick:function(t,a){if(Array.isArray(a))throw new Error("onClick in material table should not involve multiple application instances");e.onEdit(a)}}];return i.a.createElement("div",null,i.a.createElement("h1",null,"All Applications"),i.a.createElement("div",{className:t.buttonWrapper},i.a.createElement(be.a,{className:t.buttonRightEnd,color:"secondary",startIcon:i.a.createElement(Ve.a,null),onClick:e.onCreate},"Add New Application")),i.a.createElement(_e.a,{options:{toolbar:!1,showTitle:!1,search:!1,actionsColumnIndex:-1,paginationType:"stepped",pageSizeOptions:[]},columns:Fe,actions:a,data:Array.from(e.applications.values()),components:{Container:function(e){return i.a.createElement("div",e)}},icons:Te.materialTableIcons}))}));function Ge(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(ae.a)(te.a.mark((function e(t,a){var n,r,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get(oe.apiEndpoints.application.endpoints.applicationList.url);case 2:if(n=e.sent.data,!(r=Object(ie.getGeneralError)(n))){e.next=6;break}return e.abrupt("return",re.notificationData.makeError(r));case 6:return a&&(i=new Map(n.data.map((function(e){if(null!=e.id)return[e.id,e];var t=Object(Ue.a)();return[t,Object(q.a)({},e,{id:t})]}))),t(i)),e.abrupt("return",re.notificationData.makeEmpty());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=Object(r.memo)((function(e){var t,a=e.updateTitle,o=Object(r.useState)(re.notificationData.makeEmpty()),l=Object(d.a)(o,2),c=l[0],u=l[1],s=Object(P.m)()[I.routerEndpoints.applications.edit.paramName],m=Object(P.k)(),p=Object(r.useContext)(V),f=p.state,E=p.dispatch;Object(r.useEffect)((function(){a(I.routerEndpoints.applications.name)}),[a]),Object(r.useEffect)((function(){var e=!0;if(null==f.applications)return Object(ae.a)(te.a.mark((function t(){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ge((function(e){return E({type:n.SET_FULL_APPLICATIONS,payload:e})}),e);case 3:a=t.sent,e&&u(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),u(re.notificationData.makeError(Object(ie.getHTTPError)(t.t0)));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[f.applications,E]);var h=null!==(t=f.applications)&&void 0!==t?t:new Map,v=function(){m.push(I.routerEndpoints.applications.url)},y=function(e){var t=e.id?e:Object(q.a)({},e,{id:Object(Ue.a)()}),a=new Map(h);a.set(t.id,t),v(),u(re.notificationData.makeSuccess("Successfully updated applications")),E({type:n.SET_FULL_APPLICATIONS,payload:a})},b=y,g=function(e){if(!e.id)throw new Error("ID must be specified for deleting app to work");var t=new Map(h);t.delete(e.id),v(),u(re.notificationData.makeSuccess("Successfully updated applications")),E({type:n.SET_FULL_APPLICATIONS,payload:t})},S=h.get(s);return i.a.createElement("div",null,i.a.createElement(P.g,null,i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.applications.url},i.a.createElement(He,{applications:h,onCreate:function(){m.push(I.routerEndpoints.applications.create.url)},onEdit:function(e){m.push(I.routerEndpoints.applications.edit.urlBase+e.id)}}),i.a.createElement(ne.NotificationSnackBar,{data:c,onClose:function(){return u(re.notificationData.makeEmpty())}})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.applications.create.url},i.a.createElement(We,{existingApplication:null,onCreate:y,onUpdate:b,onDelete:g})),i.a.createElement(P.d,{path:I.routerEndpoints.applications.edit.urlDynamic},null==S?i.a.createElement(P.c,{to:I.routerEndpoints.applications.url}):i.a.createElement(We,{existingApplication:S,onCreate:y,onUpdate:b,onDelete:g}))))})),Je=a(490),Ke=a.n(Je),Xe=Object(Q.a)((function(e){return Object(q.a)({},Object(je.commonPageStyles)(e),{content:{margin:e.spacing(6,0)},section:{margin:e.spacing(5,0)},redirectButton:{marginBottom:e.spacing(3)}})}));function $e(e){var t=e.updateTitle;Object(r.useEffect)((function(){t(I.routerEndpoints.help.name)}),[t]);var a=Xe();return i.a.createElement(fe.a,{disableGutters:!0,maxWidth:"md"},i.a.createElement("h1",{className:a.titleStyle},"More Information"),i.a.createElement("article",{className:a.content},i.a.createElement("section",{className:a.section},i.a.createElement("h3",null,"Social Media Providers"),i.a.createElement("p",null,"In order to build queries for each social media provider, you need to log into an account and authorize this system to perform queries on your behalf.")),i.a.createElement("section",{className:a.section},i.a.createElement("h3",null,"Applications"),i.a.createElement("p",null,"Applications are servers that receive your data when you query."),i.a.createElement("p",null,"By default we assume that you want access to the data processing server but if you have a server of your own that you want to have access to your data, then you can just add it here and when you submit a query it will receive the data.")),i.a.createElement("section",{className:a.section},i.a.createElement("h3",null,"Queries"),i.a.createElement("p",null,"Queries represent traversals through a graph of relationships."),i.a.createElement("p",null,"Here you can create queries depending on social media providers that you've authorized."),i.a.createElement("p",null,"After you create a query, you can manage it to see the raw data from the query, what attributes you've chosen, the history, as well as update it."))),i.a.createElement(be.a,{className:a.redirectButton,color:"secondary",startIcon:i.a.createElement(Ke.a,null),onClick:function(){return window.open(oe.pageEndpoints.projectMainPage.url,"_blank")}},"Project Homepage"))}function Ze(){return i.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement("h1",{style:{fontWeight:300}},"You are trying to visit contents that do not exist!"))}var et,tt=a(1841),at=a(315),nt=Object(Q.a)((function(e){return Object(q.a)({},Object(je.commonPageStyles)(e),{},Object(je.errorButtonStyles)(e),{},Object(je.commonButtonStyles)(e),{grid:{margin:e.spacing(5,0)},gridRowSeparated:{borderBottom:"1px solid ".concat(at.a[200])},gridRow:{padding:e.spacing(2,0)},itemName:{fontWeight:500},itemValue:{fontWeight:300},logOutButton:{marginTop:e.spacing(2)}})}));function rt(e){var t,a,o=e.updateTitle,l=Object(r.useState)(re.notificationData.makeEmpty()),c=Object(d.a)(l,2),u=c[0],s=c[1],m=Object(P.k)();Object(r.useEffect)((function(){o(I.routerEndpoints.profile.name)}),[o]);var p=Object(r.useContext)(V),f=p.state,E=p.dispatch,h=function(){var e=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.get(oe.apiEndpoints.general.endpoints.logOutCredential.url);case 3:E({payload:null,type:n.REMOVE_USER}),m.push(I.routerEndpoints.base.url),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s(re.notificationData.makeError(Object(ie.getHTTPError)(e.t0)));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=nt();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("h1",{className:v.titleStyle},"User Profile"),i.a.createElement(fe.a,{className:v.grid,maxWidth:"sm",disableGutters:!0},i.a.createElement(Ee.a,{className:Object(L.default)(v.gridRowSeparated,v.gridRow),container:!0,spacing:2},i.a.createElement(Ee.a,{className:v.itemName,item:!0,xs:4},"Username"),i.a.createElement(Ee.a,{className:v.itemValue,item:!0,xs:8},null===(t=f.user)||void 0===t?void 0:t.name)),i.a.createElement(Ee.a,{className:v.gridRow,container:!0,spacing:2},i.a.createElement(Ee.a,{className:v.itemName,item:!0,xs:4},"Authorization Level"),i.a.createElement(Ee.a,{className:v.itemValue,item:!0,xs:8},(null===(a=f.user)||void 0===a?void 0:a.isAdmin)?"Administrator":"User"))),i.a.createElement(be.a,{className:Object(L.default)(v.errorButton,v.logOutButton),variant:"contained",onClick:h,startIcon:i.a.createElement(tt.a,null)},"LogOut")),i.a.createElement(ne.NotificationSnackBar,{data:u,onClose:function(){return s(re.notificationData.makeEmpty())}}))}!function(e){e[e.ADD=0]="ADD",e[e.DELETE=1]="DELETE",e[e.EXECUTE=2]="EXECUTE"}(et||(et={}));var it=function(e){return{name:e.name,meta:e,value:null}},ot=function(e){return{name:e.name,value:e.value,inputType:Object(q.a)({},e.meta.type,{ofType:null}),description:e.meta.description}},lt={create:function(e,t){var a={parent:e,id:Object(Ue.a)(),info:{arguments:[],selected:!1,raw:t},children:[]},n=t.args;return n&&(a.info.arguments=n.map((function(e){return it(e)}))),a},getRawType:function(e){return e.info.raw.type},getRawOfType:function(e){return this.getRawType(e).ofType},getOutputObjectName:function(e){if(!this.isFieldObject(e))return e.info.raw.kind;var t=this.getRawType(e);return t.name?t.name:this.getRawOfType(e).name},isObject:function(e){if(this.isFieldObject(e)){if("SCALAR"!==this.getRawType(e).kind){var t=this.getRawOfType(e);if(t&&"OBJECT"===t.kind)return!0}return!1}return"OBJECT"===e.info.raw.kind},isList:function(e){if(this.isFieldObject(e)){if("LIST"===this.getRawType(e).kind){var t=this.getRawOfType(e);if(t&&"LIST"===t.kind)return!0}return!1}return"LIST"===e.info.raw.kind},isScalar:function(e){return!this.isObject(e)&&!this.isList(e)},isFieldObject:function(e){return!e.info.raw.hasOwnProperty("fields")}};function ct(e){var t=e.data.__schema,a=t.types.reduce((function(e,t){return t.name.startsWith("__")||"SCALAR"===t.kind?e:(e[t.name]=t,e)}),{}),n=t.queryType.name;return{raw:e,root:function e(t,n){if(t.hasOwnProperty("fields")){var r=lt.create(n,t),i=!0,o=!1,l=void 0;try{for(var c,u=t.fields[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var s=c.value;r.children.push(e(s,r))}}catch(f){o=!0,l=f}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return r}var d=lt.create(n,t),m=lt.getOutputObjectName(d);if(null!=m){var p=a[m];p&&(d.children=[e(p,d)])}return d}(a[n],null)}}function ut(e,t){if(!e.fields)return e;var a=JSON.parse(JSON.stringify(e)),n=a.fields,r=t.reduce((function(e,t){return e.set(t.name,t),e}),new Map),i=!0,o=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var s=c.value;if(r.has(s.name)){var d=r.get(s.name).inputs,m=s.args;if(0===d.length)continue;if(d.length!==m.length)throw new Error("selectedChildInputs and candidateChildArgs must have the same length");for(var p=0;p<d.length;p+=1)m[p].value=d[p].value}}}catch(f){o=!0,l=f}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return a}function st(e,t){if(null==e.root)throw new Error("tree.root cannot be null");return function e(t,a){if(t.id===a)return t;var n=!0,r=!1,i=void 0;try{for(var o,l=t.children[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var c=e(o.value,a);if(c)return c}}catch(u){r=!0,i=u}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return null}(e.root,t)}var dt,mt={createEmpty:function(){return{raw:null,root:null}},getSerializableObject:function(e){if(null==e.root)throw new Error("Cannot serialize empty tree");if(null==e.raw)throw new Error("tree.raw required for serialization");var t=e.raw.data.__schema.types.reduce((function(e,t){return e[t.name]=t,e}),{}),a=function e(a){if(!a.info.selected)return null;var n={name:"",inputs:[],output:{},children:[],selected:!0};if(null==a.parent?n.name="query":n.name=a.info.raw.name,lt.isFieldObject(a)){n.inputs=a.info.arguments.map((function(e){return ot(e)}));var r=lt.getOutputObjectName(a);if(!r)throw new Error("Invalid BaseObjectName for field node");return n.children=a.children.map((function(t){return e(t)})).flat().filter((function(e){return null!=e})),n.output={type:ut(t[r],n.children),isAList:lt.isList(a).toString(),isObject:lt.isObject(a).toString(),isScalar:lt.isScalar(a).toString()},n}var i=a.children.map((function(t){return e(t)})).flat().filter((function(e){return null!=e}));return null==a.parent?(n.children=i,n.output={type:ut(t[a.info.raw.name],i),isAList:lt.isList(a).toString(),isObject:lt.isObject(a).toString(),isScalar:lt.isScalar(a).toString()},n):i}(e.root);if(null==a)throw new Error("Fail to serialize because there are no elements marked as selected");return a},createFromSerializableObject:function(e,t){var a=ct(t);if(!a.root)throw new Error("Fail to create tree from raw");return function e(t,a){if(null!=t){a.info.selected=!0;var n=t.output.type.name,r=t.children;if(n===a.info.raw.name){var i=!0,o=!1,l=void 0;try{for(var c,u=function(){var t=c.value,n=t.name,r=a.children.find((function(e){return e.info.raw.name===n}));if(!r)return"continue";e(t,r)},s=r[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)u()}catch(w){o=!0,l=w}finally{try{i||null==s.return||s.return()}finally{if(o)throw l}}}else{var d=!0,m=!1,p=void 0;try{for(var f,E=a.children[Symbol.iterator]();!(d=(f=E.next()).done);d=!0){var h=f.value;if(h.info.raw.name===n){h.info.selected=!0;var v=!0,y=!1,b=void 0;try{for(var g,S=function(){var t=g.value,a=t.name,n=h.children.find((function(e){return e.info.raw.name===a}));if(!n)return"continue";e(t,n)},O=r[Symbol.iterator]();!(v=(g=O.next()).done);v=!0)S()}catch(w){y=!0,b=w}finally{try{v||null==O.return||O.return()}finally{if(y)throw b}}break}}}catch(w){m=!0,p=w}finally{try{d||null==E.return||E.return()}finally{if(m)throw p}}}}}(e,a.root),Object(q.a)({},a)},createEmptyRoot:function(e){return{raw:e,root:null}},createFromRaw:ct,addNode:function(e,t){if(null==e.root&&null==t.parent)return Object(q.a)({},e,{root:t});if(null==t.parent||null==e.root)throw new Error("addNode require node.parent and tree.root to be non-null");return function e(t,a){var n;if(t.id!==(null===(n=a.parent)||void 0===n?void 0:n.id))t.children.forEach((function(t){return e(t,a)}));else{var r=t.children;if(r.find((function(e){return e.id===a.id})))throw new Error("Node already exists");r.push(a)}}(e.root,t),Object(q.a)({},e)},removeNode:function(e,t){if(null==e.root)throw new Error("tree.root cannot be null");if(e.root.id===t)return Object(q.a)({},e,{root:null});var a=st(e,t);if(!a)throw new Error("target id not found");var n=a.parent;if(!n)throw new Error("Except for root, parent cannot be null");var r=n.children.findIndex((function(e){return e.id===t}));if(r<0)throw new Error("index must not be < 0");return n.children=n.children.splice(r,1),Object(q.a)({},e)},replaceNode:function(e,t,a){if(null==e.root)throw new Error("tree.root cannot be null");if(e.root.id===a)return Object(q.a)({},e,{root:null});var n=st(e,a);if(!n)throw new Error("target id not found");if(st(e,t.id))throw new Error("newNode already exists");var r=n.parent;if(!r)throw new Error("Except for root, parent cannot be null");var i=r.children.findIndex((function(e){return e.id===a}));if(i<0)throw new Error("index must not be < 0");return r.children[i]=t,Object(q.a)({},e)}};!function(e){e.AD_HOC="Ad hoc",e.PER_MINUTE="Once a minute",e.PER_HOUR="Once an hour",e.PER_DAY="Once a day",e.PER_WEEK="Once a week",e.PER_MONTH="Once a month"}(dt||(dt={}));var pt=function(e,t){return{id:Object(Ue.a)(),name:e.name,schedule:e.schedule,schema:mt.createFromSerializableObject(e.schema,t),source:e.source}},ft=function(e){return{name:e.name,schedule:e.schedule,schema:mt.getSerializableObject(e.schema),source:e.source}};function Et(e,t,a,n){return ht.apply(this,arguments)}function ht(){return(ht=Object(ae.a)(te.a.mark((function e(t,a,n,r){var i,o,l,c,u,s,d,m,p,f,E,h,v,y,b;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Map(n),e.next=3,ce.a.get(oe.apiEndpoints.query.endpoints.queriesList.url);case 3:if(o=e.sent.data,!(l=Object(ie.getGeneralError)(o))){e.next=7;break}return e.abrupt("return",re.notificationData.makeError(l));case 7:c=!1,u=o.data,s=!0,d=!1,m=void 0,e.prev=12,p=u[Symbol.iterator]();case 14:if(s=(f=p.next()).done){e.next=29;break}if(E=f.value,i.has(E.source)){e.next=26;break}return h={source:E.source},e.next=20,ce.a.get(oe.apiEndpoints.query.endpoints.queryFullSchema.url,{params:h});case 20:if(v=e.sent.data,!(y=Object(ie.getGeneralError)(v))){e.next=24;break}return e.abrupt("return",re.notificationData.makeError(y));case 24:i.set(E.source,v.data),c=!0;case 26:s=!0,e.next=14;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(12),d=!0,m=e.t0;case 35:e.prev=35,e.prev=36,s||null==p.return||p.return();case 38:if(e.prev=38,!d){e.next=41;break}throw m;case 41:return e.finish(38);case 42:return e.finish(35);case 43:return r&&(b=new Map(o.data.map((function(e){var t=pt(e,i.get(e.source));return[t.id,t]}))),c&&t(i),a(b)),e.abrupt("return",re.notificationData.makeEmpty());case 45:case"end":return e.stop()}}),e,null,[[12,31,35,43],[36,,38,42]])})))).apply(this,arguments)}var vt=a(95),yt={addRecord:function(e,t){return this.findIndexByNode(e,t)<0?[].concat(Object(vt.a)(e),[t]):e},findIndexByNode:function(e,t){return e.findIndex((function(e){return e.id===t.id}))},removeRecordByNode:function(e,t){var a=this.findIndexByNode(e,t);return a<0?e:e.slice(0,a)}},bt=a(318),gt=a(692),St=Object(Q.a)((function(e){return Object(q.a)({},Object(je.commonPageStyles)(e),{},Object(je.errorButtonStyles)(e),{},Object(je.commonButtonStyles)(e),{},Object(je.formStyles)(e))})),Ot=Object(Q.a)((function(e){return Object(q.a)({},Object(je.commonPageStyles)(e),{},Object(je.errorButtonStyles)(e),{},Object(je.commonButtonStyles)(e),{},Object(je.formStyles)(e),{sideInputWrapper:{display:"flex",flexDirection:"column",padding:e.spacing(2),backgroundColor:"rgba(236, 239, 241, 0.8)",width:"100%",minHeight:"100%",boxSizing:"border-box",borderTopLeftRadius:"10px",borderBottomLeftRadius:"10px"},sideInputTitle:{padding:0,margin:e.spacing(1.5,0),wordBreak:"break-word"},sideInputFields:{margin:e.spacing(.5,0)},sideFieldWrapper:{width:"100%",height:"100%"},sideEmptyText:{color:at.a[900]},queryCreateWrapper:{width:"100%",height:"100%",position:"relative",marginTop:e.spacing(4)},queryCreateInputPanel:{width:"240px",maxWidth:"30%",position:"absolute",top:0,bottom:0,overflow:"auto"},queryCreateVizPanel:{width:"100%",height:"100%",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"10px"},formSubmitSpacing:{marginTop:e.spacing(4)}})})),wt=Object(Q.a)((function(e){return Object(gt.a)(Object(q.a)({},Object(je.commonPageStyles)(e),{},Object(je.errorButtonStyles)(e),{},Object(je.commonButtonStyles)(e),{},Object(je.formStyles)(e),{historyWrapper:{width:"100%",maxHeight:"calc(100vh - 70px - 2.5rem - 32px - 32px - 10px)",display:"flex",flexDirection:"column"},tabsWrapper:{padding:"1rem",borderBottom:"1px solid #F5F5F5"},tabPanelWrapper:{height:"100%",display:"flex",flexDirection:"column",overflowY:"hidden"},intermediateWrapper:{height:"100%",display:"flex",flexDirection:"column",overflowY:"auto"},historyPanelWrapper:{height:"100%",width:"100%",display:"flex",flexDirection:"row",overflowY:"hidden"},historyTableWrapper:{width:"30vw",overflowY:"auto",flexShrink:0},historyTable:{borderRight:"1px solid ".concat(at.a[100])},historyTableHighlightedRow:{backgroundColor:at.a[100]},responseVizWrapper:{width:"100%",alignSelf:"stretch",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},responseVizTextWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},responseVizEmptyTitle:{color:at.a[400]},responseVizErrorTitle:{color:bt.a[400]},responseVizOutline:{width:"calc(100% - 4px - 4px)",alignSelf:"stretch",margin:"4px",border:"1px solid ".concat(at.a[100])},detailPanelWrapper:{width:"100%",boxSizing:"border-box",padding:e.spacing(1),display:"flex",flexDirection:"column",overflowY:"auto"},detailHelperText:{padding:0,margin:e.spacing(1,.5),color:at.a[400],fontSize:"0.8rem"},detailTable:{flexShrink:0,paddingBottom:e.spacing(1),borderBottom:"1px solid ".concat(at.a[100]),marginBottom:e.spacing(1)},detailVizOutline:{width:"calc(100% - 3rem)",alignSelf:"stretch",margin:"1rem 1.5rem",border:"1px solid ".concat(at.a[100])},removeElement:{display:"none"},showElement:{display:"flex"}}))})),jt=a(611),kt=a(612),xt=a(616),Tt=a(700),Nt=a(1810),Dt=[dt.AD_HOC,dt.PER_MINUTE,dt.PER_HOUR,dt.PER_DAY,dt.PER_WEEK,dt.PER_MONTH],Ct="name",_t="source",At="schedule";function Rt(e){var t=e.errorMessages,a=e.allSources,n=e.query,o=e.onUpdateQuery,l=Ot(),c=Object(r.useCallback)((function(e){o(Object(q.a)({},n,{name:e.target.value}))}),[n,o]),u=Object(r.useCallback)((function(e){o(Object(q.a)({},n,{source:e.target.value}))}),[n,o]),s=Object(r.useCallback)((function(e){o(Object(q.a)({},n,{schedule:e.target.value}))}),[n,o]);return i.a.createElement("div",null,i.a.createElement("h1",{className:l.titleStyle},"Basic Information"),i.a.createElement("form",{className:l.form},i.a.createElement(Ee.a,{container:!0,spacing:2},i.a.createElement(Ee.a,{item:!0,xs:6},i.a.createElement(he.a,{required:!0,fullWidth:!0,error:!Ie.stringDict.isValueEmpty(t,Ct),label:"Query Name",color:"secondary",helperText:Ie.stringDict.getValueWithDefault(t,Ct),onChange:c,value:n.name})),i.a.createElement(Ee.a,{item:!0,xs:3},i.a.createElement(jt.a,{color:"secondary",fullWidth:!0,required:!0,error:!Ie.stringDict.isValueEmpty(t,_t)},i.a.createElement(kt.a,{id:"select-source-label"},"Source"),i.a.createElement(xt.a,{labelId:"select-source-label",value:n.source,onChange:u},a.map((function(e){return i.a.createElement(Tt.a,{key:e,value:e},e)}))),i.a.createElement(Nt.a,null,Ie.stringDict.getValueWithDefault(t,_t)))),i.a.createElement(Ee.a,{item:!0,xs:3},i.a.createElement(jt.a,{color:"secondary",fullWidth:!0},i.a.createElement(kt.a,{id:"select-schedule-label"},"Schedules"),i.a.createElement(xt.a,{labelId:"select-schedule-label",value:n.schedule,onChange:s},Dt.map((function(e){return i.a.createElement(Tt.a,{key:e,value:e},e)}))))))))}var Lt=a(138),Pt={},Ut=function(){Pt=null},It=function(e){if(!(e.onDeselectNode&&e.onSelectNode||!e.onDeselectNode&&!e.onDeselectNode))throw new Error("props.onDeselectNode and props.onDeselectNode must be defined or not defined at the same time");if(e.fullSchema!==Pt){Pt=e.fullSchema;var t=!e.onDeselectNode&&!e.onDeselectNode,a=Lt.e().nodeSize([30,300]),n=e.fullSchema.root,r=Lt.b(n);r.x0=250,r.y0=0,r.descendants().forEach((function(e){e.savedChildren=e.children,e.children=null,e.selected=!1}));var i=Lt.d(e.containerElem).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(900," ").concat(500)),o=i.append("svg").style("overflow","visible").attr("x",450).attr("y",250),l=o.append("g");i.call(Lt.f().on("zoom",(function(){var e=Lt.a.transform.apply([450,250]),t=Lt.a.transform.scale(1);o.attr("x",e[0]),o.attr("y",e[1]),l.attr("transform","scale(".concat(t.k,")"))}))).on("dblclick.zoom",null);var c=l.append("g"),u=l.append("g"),s=Lt.c().x((function(e){return e.y})).y((function(e){return e.x})),d=i.transition().duration(200).attr("viewBox","0, 0, ".concat(900,", ").concat(500)),m=function(e){return e.data.info.selected?"#ed1250":null!=e.data.info.children?"#0277bd":"#90a4ae"};!function n(i){var o=r.descendants(),l=r.links();a(r);var p=u.selectAll("g.nodes").data(o,(function(e){return e.data.id})),f=p.enter().append("g").attr("class","nodes").attr("transform",(function(e){return"translate(".concat(i.y0,",").concat(i.x0,")")})).attr("cursor","pointer").on("click",(function(a){Lt.a.stopPropagation();var r,i,o,l=a.data;(t?(a.selected=!a.selected,r=a.selected):(l.info.selected=!l.info.selected,r=l.info.selected),r)?(a.children=a.savedChildren,a.savedChildren=null,null===(i=e.onSelectNode)||void 0===i||i.call(e,l)):(null===(o=e.onDeselectNode)||void 0===o||o.call(e,l),a.savedChildren=a.children,a.children=null);t||Lt.d(this).select("circle").attr("fill",m(a)),n(a)}));f.append("circle").attr("class","node").attr("r","5px").attr("fill",m),f.append("text").attr("dy","0.31em").attr("x",(function(e){return null!=e.data.children?-10:10})).attr("text-anchor",(function(e){return null!=e.data.children?"end":"start"})).text((function(e){return e.data.info.raw.name})).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",5).attr("stroke","white"),p.merge(f).transition(d).attr("transform",(function(e){return"translate(".concat(e.y,",").concat(e.x,")")})).attr("fill-opacity",1).attr("stroke-opacity",1),p.exit().transition(d).remove().attr("transform",(function(e){return"translate(".concat(i.y,",").concat(i.x,")")})).attr("fill-opacity",0).attr("stroke-opacity",0);var E=c.selectAll("path").data(l,(function(e){return e.target.data.id})),h=E.enter().append("path").attr("fill","none").attr("stroke","#424242").attr("stroke-opacity",.4).attr("stroke-width",1.5).attr("d",(function(e){var t={x:i.x0,y:i.y0};return s({source:t,target:t})}));E.merge(h).transition(d).attr("d",(function(e){return s(e)})),E.exit().transition(d).remove().attr("d",(function(e){var t={x:i.x,y:i.y};return s({source:t,target:t})})),r.eachBefore((function(e){e.x0=e.x,e.y0=e.y}))}(r)}},qt=Object(r.memo)((function(e){var t,a=e.args,n=e.nodeName,r=e.setInputs,o=Ot();return t=null==a?i.a.createElement("div",{className:o.sideFieldWrapper},i.a.createElement("small",{className:o.sideEmptyText},"If selected node has input fields, they will show up here")):a.map((function(e){var t,n=e.name;return i.a.createElement(he.a,{className:o.sideInputFields,value:null!==(t=e.value)&&void 0!==t?t:"",color:"secondary",key:n,id:"standard-basic",label:n,onChange:function(e){var t=a.slice(),i=!0,o=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var s=c.value;if(s.name===n){s.value=e.target.value;break}}}catch(d){o=!0,l=d}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}r(t)}})})),i.a.createElement("div",{className:o.sideInputWrapper},i.a.createElement("h3",{className:o.sideInputTitle},""===n?"No node selected":"Input fields for node ".concat(n)),i.a.createElement("div",{className:o.sideFieldWrapper},t),null!=a&&i.a.createElement("small",null,"Note that values will be automatically saved"))}));function Bt(e){var t=e.fullSchema,a=e.lastActiveNodeName,n=e.inputs,o=e.setActiveNode,l=e.setInputs,c=e.deleteVizNode,u=Ot();Object(r.useEffect)((function(){return function(){Ut()}}),[]);var s=Object(r.useCallback)((function(e){o(e)}),[o]),d=Object(r.useCallback)((function(e){c(e)}),[c]),m=Object(r.useCallback)((function(e){null!=e&&(console.log("rerendered createViz"),It({fullSchema:t,containerElem:e,onSelectNode:s,onDeselectNode:d}))}),[t,d,s]);return i.a.createElement("div",{className:u.queryCreateWrapper},i.a.createElement("div",{className:u.queryCreateInputPanel},i.a.createElement(qt,{args:n,nodeName:null!==a&&void 0!==a?a:"",setInputs:l})),i.a.createElement("div",{className:u.queryCreateVizPanel},i.a.createElement("div",{ref:m})))}var Mt={};function Wt(e){var t,a,n=e.addQuery,o=Object(r.useState)([]),l=Object(d.a)(o,2),c=l[0],u=l[1],s=Object(r.useState)({name:"",source:"",schedule:Dt[0],schema:mt.createEmpty()}),m=Object(d.a)(s,2),p=m[0],f=m[1],E=Object(r.useState)({}),h=Object(d.a)(E,2),v=h[0],y=h[1],b=Object(r.useState)(re.notificationData.makeEmpty()),g=Object(d.a)(b,2),S=g[0],O=g[1],w=Object(r.useState)([]),j=Object(d.a)(w,2),k=j[0],x=j[1],T=Object(r.useState)(null),N=Object(d.a)(T,2),D=N[0],C=N[1];Object(r.useEffect)((function(){Object(ae.a)(te.a.mark((function e(){var t,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.get(oe.apiEndpoints.query.endpoints.querySourcesList.url);case 3:if(t=e.sent.data,!(a=Object(ie.getGeneralError)(t))){e.next=8;break}return O(re.notificationData.makeError(a)),e.abrupt("return");case 8:O(re.notificationData.makeEmpty()),u(t.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),O(re.notificationData.makeError(Object(ie.getHTTPError)(e.t0)));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}),[]);var _,A=Ot(),R=Object(r.useCallback)((function(){var e=!0;return Object(pe.isStringEmpty)(p.name)?(y((function(e){return Ie.stringDict.update(e,Ct,"Name cannot be empty")})),e=!1):y((function(e){return Ie.stringDict.unset(e,Ct)})),Object(pe.isStringEmpty)(p.source)?(y((function(e){return Ie.stringDict.update(e,_t,"Schema cannot be empty")})),e=!1):y((function(e){return Ie.stringDict.unset(e,_t)})),Object(pe.isObjectEmpty)(p.schema)?(O(re.notificationData.makeError("Schema cannot be empty")),e=!1):O(re.notificationData.makeEmpty()),e}),[p,y]),P=Object(r.useCallback)((function(){R()&&Object(ae.a)(te.a.mark((function e(){var t,a,r,i,o,l,c,u,s,m,f,E,h;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(me.mutate)(y),a=Object(d.a)(t,2),r=a[0],i=a[1],o=Object(me.mutate)(O),l=Object(d.a)(o,2),c=l[0],u=l[1],e.prev=2,m={type:et.ADD,data:ft(p)},e.next=6,ce.a.put(oe.apiEndpoints.query.endpoints.queryUpdate.url,m);case 6:f=e.sent.data,E=Object(ie.getGeneralError)(f),h=null===(s=f.error)||void 0===s?void 0:s.fieldError,Object(me.joinBoolean)([E?c(re.notificationData.makeError(E)):u(re.notificationData.makeEmpty()),(null===h||void 0===h?void 0:h.name)?r((function(e){return Ie.stringDict.update(e,Ct,h.name)})):i((function(e){return Ie.stringDict.unset(e,Ct)})),(null===h||void 0===h?void 0:h.schedule)?r((function(e){return Ie.stringDict.update(e,At,h.schedule)})):i((function(e){return Ie.stringDict.unset(e,At)})),(null===h||void 0===h?void 0:h.source)?r((function(e){return Ie.stringDict.update(e,_t,h.source)})):i((function(e){return Ie.stringDict.unset(e,_t)}))])||n(p),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),O(re.notificationData.makeError(Object(ie.getHTTPError)(e.t0)));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))()}),[R,n,p]),U=Object(r.useCallback)((function(e){if(null!=e){var t=e.source;""!==t.trim()?Mt.hasOwnProperty(t)?e.schema.raw?f(e):f(Object(q.a)({},e,{schema:mt.createFromRaw(Mt[t])})):Object(ae.a)(te.a.mark((function a(){var n,r,i;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={source:e.source},a.prev=1,a.next=4,ce.a.get(oe.apiEndpoints.query.endpoints.queryFullSchema.url,{params:n});case 4:if(r=a.sent.data,!(i=Object(ie.getGeneralError)(r))){a.next=9;break}return O(re.notificationData.makeError(i)),a.abrupt("return");case 9:O(re.notificationData.makeEmpty()),Mt[t]=r.data,f((function(){return Object(q.a)({},e,{schema:mt.createFromRaw(r.data)})})),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),O(re.notificationData.makeError(Object(ie.getHTTPError)(a.t0)));case 17:case"end":return a.stop()}}),a,null,[[1,14]])})))():f(e)}}),[]),I=Object(r.useCallback)((function(e){C((function(t){return null!=t&&x((function(e){return yt.addRecord(e,t)})),e}))}),[]),B=Object(r.useCallback)((function(e){x((function(t){var a=yt.removeRecordByNode(t,e);return null==a?(C(null),[]):(C(a[a.length-1]),a.slice(0,a.length-1))}))}),[]),M=Object(r.useCallback)((function(e){C((function(t){if(null==t)throw new Error("Active record must not be null for updating inputs");return t.info.arguments=e,Object(q.a)({},t)}))}),[]),W=Object(r.useCallback)((function(){O(re.notificationData.makeEmpty())}),[]);_=D||(k.length>0?k[k.length-1]:null);var z=i.a.createElement(Rt,{errorMessages:v,allSources:c,query:p,onUpdateQuery:U}),V=i.a.createElement("div",null,i.a.createElement("h1",{className:A.titleStyle},"Configure Query"),p.schema.root?i.a.createElement(Bt,{fullSchema:p.schema,deleteVizNode:B,inputs:null!==(t=null===D||void 0===D?void 0:D.info.arguments)&&void 0!==t?t:null,lastActiveNodeName:null===(a=_)||void 0===a?void 0:a.info.raw.name,setActiveNode:I,setInputs:M}):i.a.createElement("small",null,"Source must be selected first"));return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,z,i.a.createElement("br",null),V,i.a.createElement("br",null),i.a.createElement("div",{className:Object(L.default)(A.buttonWrapper,A.formSubmitSpacing)},i.a.createElement(be.a,{variant:"contained",color:"secondary",className:A.buttonRightGap,startIcon:i.a.createElement(we.a,null),onClick:P},"Save Form"))),i.a.createElement(ne.NotificationSnackBar,{data:S,onClose:W}))}var zt=a(328),Vt=a(1850),Ft=a(1839),Ht=a(1840),Gt=a(701),Qt=a(705),Yt=a(707),Jt=a(703),Kt=a(702),Xt=a(709),$t=a(614),Zt=a.n($t),ea=a(997),ta=a.n(ea);function aa(e){return void 0!==e&&null!==e&&e.constructor===Object}var na=null,ra=function(){na=null},ia=function(e){var t=e.data,a=e.containerElem;if(t!==na){na=t;var n=Lt.e().nodeSize([30,300]),r=function e(t){for(var a=[],n=0,r=Object.entries(t);n<r.length;n++){var i=Object(d.a)(r[n],2),o=i[0],l=i[1],c={value:o,children:null,isHandle:!1};if(Array.isArray(l)?c.children=e(l.reduce((function(e,t,a){return e[a+1]=t,e}),{})):aa(l)?c.children=e(l):c.value="".concat(o,": ").concat(l),null!=c.children&&c.children.length>10){var u=c.children.length;c.children=[{value:"".concat("Previous page"," (total ").concat(u," items)"),children:null,isHandle:!0}].concat(Object(vt.a)(c.children),[{value:"".concat("Next page"," (total ").concat(u," items)"),children:null,isHandle:!0}])}a.push(c)}return a}({"Query Result":t.data})[0],i=Lt.b(r);i.x0=250,i.y0=0,i.descendants().forEach((function(e,t){e.id=t,e.savedChildren=e.children,e.children=null,e.selected=!1,e.pageIndex=0,e.isPaginationNeeded=!!e.savedChildren&&e.savedChildren.length>10}));var o=Lt.d(a).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(900," ").concat(500)),l=o.append("svg").style("overflow","visible").attr("x",450).attr("y",250),c=l.append("g");o.call(Lt.f().on("zoom",(function(){var e=Lt.a.transform.apply([450,250]),t=Lt.a.transform.scale(1);l.attr("x",e[0]),l.attr("y",e[1]),c.attr("transform","scale(".concat(t.k,")"))}))).on("dblclick.zoom",null);var u=c.append("g"),s=c.append("g"),m=Lt.c().x((function(e){return e.y})).y((function(e){return e.x})),p=o.transition().duration(200).attr("viewBox","0, 0, ".concat(900,", ").concat(500)),f=function(e){return e.data.isHandle?"#4caf50":null!=e.data.children?"#0277bd":"#90a4ae"};!function e(t){var a=i.descendants(),r=i.links();n(i);var o=s.selectAll("g.nodes").data(a,(function(e){return e.id})),l=o.enter().append("g").attr("class","nodes").attr("transform",(function(e){return"translate(".concat(t.y0,",").concat(t.x0,")")})).attr("cursor","pointer").on("click",(function(t){Lt.a.stopPropagation();var a=function(e){var t=e.savedChildren.slice(1,-1),a=e.pageIndex,n=10*a,r=10*(a+1);e.children=t.slice(n,r),0!==n&&e.children.unshift(e.savedChildren[0]),r<e.savedChildren.length&&e.children.push(e.savedChildren[e.savedChildren.length-1])},n=t.data;n.selected=!n.selected,n.selected?(t.children=t.savedChildren,t.isPaginationNeeded&&a(t)):t.children=null,n.isHandle&&(n.value.includes("Previous page")?t.parent.pageIndex-=1:t.parent.pageIndex+=1,a(t.parent)),e(t)}));l.append("circle").attr("class","node").attr("r","5px").attr("fill",f),l.append("text").attr("dy","0.31em").attr("x",(function(e){return null!=e.data.children?-10:10})).attr("text-anchor",(function(e){return null!=e.data.children?"end":"start"})).text((function(e){return e.data.value})).clone(!0).lower().attr("stroke-linejoin","round").attr("stroke-width",5).attr("stroke","white"),o.merge(l).transition(p).attr("transform",(function(e){return"translate(".concat(e.y,",").concat(e.x,")")})).attr("fill-opacity",1).attr("stroke-opacity",1),o.exit().transition(p).remove().attr("transform",(function(e){return"translate(".concat(t.y,",").concat(t.x,")")})).attr("fill-opacity",0).attr("stroke-opacity",0);var c=u.selectAll("path").data(r,(function(e){return e.target.id})),d=c.enter().append("path").attr("fill","none").attr("stroke","#424242").attr("stroke-opacity",.4).attr("stroke-width",1.5).attr("d",(function(e){var a={x:t.x0,y:t.y0};return m({source:a,target:a})}));c.merge(d).transition(p).attr("d",(function(e){return m(e)})),c.exit().transition(p).remove().attr("d",(function(e){var a={x:t.x,y:t.y};return m({source:a,target:a})})),i.eachBefore((function(e){e.x0=e.x,e.y0=e.y}))}(i)}};function oa(e){var t=e.query,a=e.requestDelete,n=e.requestSubmit,o=Object(r.useState)(re.notificationData.makeEmpty()),l=Object(d.a)(o,2),c=l[0],u=l[1],s=wt();Object(r.useEffect)((function(){return function(){Ut()}}),[]);var m=Object(r.useCallback)((function(e){null!=e?null!=t.schema&&It({fullSchema:t.schema,containerElem:e}):ra()}),[t]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:s.detailPanelWrapper},i.a.createElement("small",{className:s.detailHelperText},"All fields and graphs are not editable; please create a new query if need to make changes"),i.a.createElement(Ht.a,{className:s.detailTable},i.a.createElement(Gt.a,null,i.a.createElement(Qt.a,null,i.a.createElement(Yt.a,null,i.a.createElement(Jt.a,{align:"center"},"Name"),i.a.createElement(Jt.a,{align:"center"},"Source"),i.a.createElement(Jt.a,{align:"center"},"Schedule"),i.a.createElement(Jt.a,{align:"center"},"Actions"))),i.a.createElement(Kt.a,null,i.a.createElement(Yt.a,null,i.a.createElement(Jt.a,{align:"center"},t.name),i.a.createElement(Jt.a,{align:"center"},t.source),i.a.createElement(Jt.a,{align:"center"},t.schedule),i.a.createElement(Jt.a,{align:"center"},i.a.createElement(Xt.a,{title:"delete query"},i.a.createElement(v.a,{color:"secondary","aria-label":"delete query",component:"span",onClick:a},i.a.createElement(ta.a,null))),i.a.createElement(Xt.a,{title:"re-submit query"},i.a.createElement(v.a,{color:"secondary","aria-label":"re-submit query",component:"span",onClick:n},i.a.createElement(Zt.a,null)))))))),i.a.createElement("div",{className:s.detailVizOutline,ref:m})),i.a.createElement(ne.NotificationSnackBar,{data:c,onClose:function(){return u(re.notificationData.makeEmpty())}}))}var la=a(998),ca=a.n(la);function ua(e){var t=e.records,a=e.setActiveRecordIndex,n=e.activeRecordIndex,r=wt(),o=["Time","Runtime (ms)","Data"].map((function(e){return i.a.createElement(Jt.a,{key:e},e)})),l=t.map((function(e,t){return i.a.createElement(Yt.a,{key:t,className:t===n?r.historyTableHighlightedRow:""},i.a.createElement(Jt.a,null,e.executionTimestamp),i.a.createElement(Jt.a,null,e.runtime),i.a.createElement(Jt.a,null,i.a.createElement(Xt.a,{title:"show more data"},i.a.createElement(v.a,{color:"secondary","aria-label":"show more data",component:"span",onClick:function(){return a(t)}},i.a.createElement(ca.a,null)))))}));return i.a.createElement(Ht.a,{component:"div",className:r.historyTableWrapper},i.a.createElement(Gt.a,{className:r.historyTable,stickyHeader:!0},i.a.createElement(Qt.a,null,i.a.createElement(Yt.a,null,o)),i.a.createElement(Kt.a,null,l)))}function sa(e){var t=e.data,a=Object(r.useCallback)((function(e){null!=e?null!=t&&ia({data:t,containerElem:e}):ra()}),[t]),n=wt(),o=null;if(null==t)o=i.a.createElement("div",{key:"empty-text",className:n.responseVizTextWrapper},i.a.createElement("div",null,i.a.createElement("h3",{className:n.responseVizEmptyTitle},"No record data selected")));else{if(t.hasOwnProperty("errors")){var l=t.errors;0!==l.length&&(o=i.a.createElement("div",{key:"error-text",className:n.responseVizTextWrapper},i.a.createElement("div",null,i.a.createElement("h3",{className:n.responseVizErrorTitle},"Following error(s) occurred"),l.map((function(e,t){return e.hasOwnProperty("message")?i.a.createElement("p",{key:"error-message-detail-".concat(t)},e.message):null})).filter(Boolean))))}null==o&&(o=i.a.createElement("div",{key:"viz",className:n.responseVizOutline,ref:a}))}return i.a.createElement("div",{className:n.responseVizWrapper},o)}function da(e){var t=e.query,a=Object(r.useState)([]),n=Object(d.a)(a,2),o=n[0],l=n[1],c=Object(r.useState)(-1),u=Object(d.a)(c,2),s=u[0],m=u[1],p=Object(r.useState)(re.notificationData.makeEmpty()),f=Object(d.a)(p,2),E=f[0],h=f[1],v=wt();Object(r.useEffect)((function(){Object(ae.a)(te.a.mark((function e(){var a,n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={queryName:t.name},e.next=4,ce.a.get(oe.apiEndpoints.query.endpoints.queryHistoryRecordsList.url,{params:a});case 4:if(n=e.sent.data,!(r=Object(ie.getGeneralError)(n))){e.next=9;break}return h(re.notificationData.makeError(r)),e.abrupt("return");case 9:h(re.notificationData.makeEmpty()),l(n.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),h(re.notificationData.makeError(Object(ie.getHTTPError)(e.t0)));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[t]);var y=s>=0&&s<o.length?o[s].data:null;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:v.historyPanelWrapper},i.a.createElement(ua,{records:o,setActiveRecordIndex:m,activeRecordIndex:s}),i.a.createElement(sa,{data:y})),i.a.createElement(ne.NotificationSnackBar,{data:E,onClose:function(){return h(re.notificationData.makeEmpty())}}))}function ma(e){var t=e.children,a=e.value,n=e.index,r=Object(m.a)(e,["children","value","index"]),o=wt();return i.a.createElement("div",Object.assign({className:Object(L.default)(o.intermediateWrapper,a===n?o.showElement:o.removeElement),"aria-labelledby":"scrollable-auto-tab-".concat(n)},r),a===n&&t)}function pa(e){var t=e.query,a=e.deleteQuery,n=e.submitQuery,o=wt(),l=Object(r.useState)(0),c=Object(d.a)(l,2),u=c[0],s=c[1],m=Object(r.useState)(re.notificationData.makeEmpty()),p=Object(d.a)(m,2),f=p[0],E=p[1],h=Object(r.useCallback)((function(e,t){s(t)}),[]),v=Object(r.useCallback)(function(){var e=Object(ae.a)(te.a.mark((function e(t){var a,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.put(oe.apiEndpoints.query.endpoints.queryUpdate.url,t);case 3:if(a=e.sent.data,!(n=Object(ie.getGeneralError)(a))){e.next=8;break}return E(re.notificationData.makeError(n)),e.abrupt("return",!1);case 8:return E(re.notificationData.makeEmpty()),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),E(re.notificationData.makeError(Object(ie.getHTTPError)(e.t0))),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),[]),y=Object(r.useCallback)(Object(ae.a)(te.a.mark((function e(){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:et.DELETE,data:ft(t)},e.next=3,v(n);case 3:if(!e.sent){e.next=5;break}a(t);case 5:case"end":return e.stop()}}),e)}))),[t,a,v]),b=Object(r.useCallback)(Object(ae.a)(te.a.mark((function e(){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={type:et.EXECUTE,data:ft(t)},e.next=3,v(a);case 3:if(!e.sent){e.next=5;break}n(t);case 5:case"end":return e.stop()}}),e)}))),[t,n,v]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("h1",{className:o.titleStyle},t.name),i.a.createElement(zt.a,{className:o.historyWrapper},i.a.createElement("div",{className:o.tabsWrapper},i.a.createElement(Vt.a,{value:u,indicatorColor:"secondary",textColor:"secondary",onChange:h,"aria-label":"disabled tabs example"},i.a.createElement(Ft.a,{label:"Query History"}),i.a.createElement(Ft.a,{label:"Query Detail"}))),i.a.createElement("div",{className:o.tabPanelWrapper},i.a.createElement(ma,{value:u,index:0},i.a.createElement(da,{query:t})),i.a.createElement(ma,{value:u,index:1},i.a.createElement(oa,{query:t,requestDelete:y,requestSubmit:b}))))),i.a.createElement(ne.NotificationSnackBar,{data:f,onClose:function(){return E(re.notificationData.makeEmpty())}}))}var fa=a(999),Ea=a.n(fa),ha=[{title:"Name",field:"name"},{title:"Source",field:"source"},{title:"Schedule",field:"schedule"}],va=Object(r.memo)((function(e){var t=St(),a=Object(r.useState)(W.NONE),n=Object(d.a)(a,2),o=n[0],l=n[1],c=Object(r.useState)(null),u=Object(d.a)(c,2),s=u[0],m=u[1],p=[{icon:function(){return i.a.createElement(Ea.a,{color:"secondary"})},tooltip:"View History",onClick:function(e,t){if(Array.isArray(t))throw new Error("onClick in material table should not involve multiple query instances");l(W.HISTORY),m(t)}}],f=i.a.createElement(P.c,{to:I.routerEndpoints.queries.create.url}),E=i.a.createElement(P.c,{to:I.routerEndpoints.queries.history.urlBase+(null===s||void 0===s?void 0:s.id)}),h=i.a.createElement("div",null,i.a.createElement("h1",{className:t.titleStyle},"All Queries"),i.a.createElement("div",{className:t.buttonWrapper},i.a.createElement(be.a,{className:t.buttonRightEnd,color:"secondary",startIcon:i.a.createElement(Ve.a,null),onClick:function(){return l(W.NEW)}},"Add New Query")),i.a.createElement(_e.a,{options:{toolbar:!1,showTitle:!1,search:!1,actionsColumnIndex:-1,paginationType:"stepped",pageSizeOptions:[]},columns:ha,actions:p,data:Array.from(e.queries.values()),components:{Container:function(e){return i.a.createElement("div",e)}},icons:Te.materialTableIcons}));switch(o){case W.NEW:return f;case W.HISTORY:return E;case W.NONE:return h;default:throw new Error("Invalid ServerListOption value")}})),ya=Object(r.memo)((function(e){var t,a=e.updateTitle,o=Object(P.m)()[I.routerEndpoints.users.edit.paramName],l=Object(r.useState)(re.notificationData.makeEmpty()),c=Object(d.a)(l,2),u=c[0],s=c[1],m=Object(P.k)(),p=Object(r.useContext)(V),f=p.state,E=p.dispatch;Object(r.useEffect)((function(){a(I.routerEndpoints.queries.name)}),[a]),Object(r.useEffect)((function(){var e=!0;if(null==f.queries)return Object(ae.a)(te.a.mark((function t(){var a,r;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Et((function(e){return E({type:n.SET_FULL_SCHEMAS,payload:e})}),(function(e){return E({type:n.SET_FULL_QUERIES,payload:e})}),null!==(a=f.fullQuerySchemas)&&void 0!==a?a:new Map,e);case 3:r=t.sent,e&&s(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),s(re.notificationData.makeError(Object(ie.getHTTPError)(t.t0)));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[f,E]);var h,v=null!==(t=f.queries)&&void 0!==t?t:new Map,y=function(e){var t=e.data,a=e.type,r=new Map(v);switch(a){case et.DELETE:if(!t.id)throw new Error("ID field is mandatory for delete");r.delete(t.id);break;case et.ADD:var i=t.id?t:Object(q.a)({},t,{id:Object(Ue.a)()});r.set(i.id,i);break;case et.EXECUTE:break;default:throw new Error("Invalid update type")}E({type:n.SET_FULL_QUERIES,payload:r}),s(re.notificationData.makeSuccess("Update servers successful"))};switch(e.routeType){case M.LIST:h=i.a.createElement(va,{queries:v});break;case M.NEW:h=i.a.createElement(Wt,{addQuery:function(e){y({data:e,type:et.ADD}),m.replace(I.routerEndpoints.queries.url)}});break;case M.HISTORY:if(0===v.size)h=null;else{var b=v.get(o);h=null==b?i.a.createElement(P.c,{to:I.routerEndpoints.queries.url}):i.a.createElement(pa,{query:b,deleteQuery:function(e){y({data:e,type:et.DELETE}),m.replace(I.routerEndpoints.queries.url)},submitQuery:function(e){y({data:e,type:et.EXECUTE}),m.replace(I.routerEndpoints.queries.url)}})}break;default:throw new Error("Invalid Queries Management Enum Prop")}return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,h),i.a.createElement(ne.NotificationSnackBar,{data:u,onClose:function(){return s(re.notificationData.makeEmpty())}}))})),ba=Object(Q.a)((function(e){return Object(q.a)({},Object(je.commonPageStyles)(e),{root:{width:"100%"},wrapperStyle:{padding:e.spacing(3)},listItemStyle:{height:"80px"},authorizedTextStyle:{textAlign:"right"},imageStyle:{marginRight:e.spacing(3)}})})),ga=a(142),Sa=a(121),Oa=a(1e3),wa=a.n(Oa),ja=new(function(){function e(){var t=this;Object(ga.a)(this,e),this._socket=null,this.createSocket=function(){t._socket=wa()("http://listen.online")}}return Object(Sa.a)(e,[{key:"constructURL",value:function(e){var t=oe.apiEndpoints.socialMedia.endpoints.socialMediaAuth.url;t.endsWith("/")&&(t=t.slice(0,-1));var a="".concat(t,"/").concat(e,"?socketId=").concat(this.socket.id);return"http://listen.online".concat(a)}},{key:"socket",get:function(){if(this._socket||this.createSocket(),!this._socket)throw new Error("Socket must not be null");return this._socket}}]),e}());function ka(e){var t=e.source,a=e.onAuthorized,n=e.onError,o=Object(r.useRef)(),l=Object(r.useRef)(),c=ba();Object(r.useEffect)((function(){if(t)return ja.socket.on(t.name,(function(e){var r;null===(r=o.current)||void 0===r||r.close(),console.log(e);var i=Object(ie.getGeneralError)(e);i?n(i):e.data.isAuthenticated?a(t.name):n("Fail to authenticate source ".concat(t.name))})),function(){null!==l.current&&(window.clearInterval(l.current),l.current=null)}}),[a,n,t]);var u=Object(r.useCallback)((function(){t&&(null!==l.current&&(clearInterval(l.current),l.current=null),o.current=function(){var e=window.innerWidth/2-300,a=window.innerHeight/2-300,n=ja.constructURL(t.name);return console.log(n),window.open(n,"","toolbar=no, location=no, directories=no, status=no, menubar=no, \n                scrollbars=no, resizable=no, copyhistory=no, width=".concat(600,", \n                height=").concat(600,", top=").concat(a,", left=").concat(e))}(),l.current=window.setInterval((function(){var e=o.current;e&&!e.closed&&void 0!==e.closed||null!==l.current&&(clearInterval(l.current),l.current=null)}),1e3))}),[t]);if(!t)return i.a.createElement(r.Fragment,null);var s=i.a.createElement(be.a,{color:"secondary",onClick:u},"Authorize"),d=i.a.createElement(k.a,{className:c.authorizedTextStyle,primary:"Authorized"});return i.a.createElement(r.Fragment,null,i.a.createElement(w.a,{className:c.listItemStyle,divider:!0},i.a.createElement("img",{className:c.imageStyle,src:t.imageURL,alt:t.name,width:"48px"}),i.a.createElement(k.a,{primary:t.name}),t.isAuthenticated?d:s))}function xa(e,t){return Ta.apply(this,arguments)}function Ta(){return(Ta=Object(ae.a)(te.a.mark((function e(t,a){var n,r,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get(oe.apiEndpoints.socialMedia.endpoints.socialMediaList.url);case 2:if(n=e.sent.data,!(r=Object(ie.getGeneralError)(n))){e.next=6;break}return e.abrupt("return",re.notificationData.makeError(r));case 6:return a&&(i=n.data.reduce((function(e,t){return e.set(t.name,t),e}),new Map),t(i)),e.abrupt("return",re.notificationData.makeEmpty());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Na=Object(r.memo)((function(e){var t,a=Object(r.useState)(re.notificationData.makeEmpty()),o=Object(d.a)(a,2),l=o[0],c=o[1],u=Object(r.useContext)(V),s=u.state,m=u.dispatch,p=e.updateTitle;Object(r.useEffect)((function(){p(I.routerEndpoints.socialMedia.name)}),[p]),Object(r.useEffect)((function(){var e=!0;if(null==s.socialMedia)return Object(ae.a)(te.a.mark((function t(){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xa((function(e){return m({type:n.SET_FULL_SOCIAL_MEDIA,payload:e})}),e);case 3:a=t.sent,e&&c(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c(re.notificationData.makeError(Object(ie.getHTTPError)(t.t0)));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),function(){e=!1}}),[s.socialMedia,m]);var f=Object(r.useCallback)((function(e){var t,a=null!==(t=s.socialMedia)&&void 0!==t?t:new Map,r=new Map(a),i=a.get(e);if(i){var o=Object(q.a)({},i,{isAuthenticated:!0});r.set(e,o),m({type:n.SET_FULL_SOCIAL_MEDIA,payload:r})}}),[s.socialMedia,m]),E=Object(r.useCallback)((function(e){e&&c(re.notificationData.makeError(e))}),[]),h=ba(),v=null!==(t=s.socialMedia)&&void 0!==t?t:new Map,y=[],b=!0,g=!1,S=void 0;try{for(var w,j=v.values()[Symbol.iterator]();!(b=(w=j.next()).done);b=!0){var k=w.value;y.push(i.a.createElement(ka,{key:k.name,source:k,onAuthorized:f,onError:E}))}}catch(x){g=!0,S=x}finally{try{b||null==j.return||j.return()}finally{if(g)throw S}}return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("h1",{className:h.titleStyle},"Available Sources"),i.a.createElement("small",{className:h.helperTextStyle},'If available, click on "Authorize" will redirect to authorization pages of corresponding social media platforms.'),i.a.createElement(O.a,{className:h.root},y)),i.a.createElement(ne.NotificationSnackBar,{data:l,onClose:function(){return c(re.notificationData.makeEmpty())}}))})),Da=Object(r.memo)((function(e){var t=e.isAuthenticated,a=e.children,n=Object(m.a)(e,["isAuthenticated","children"]);return i.a.createElement(P.d,Object.assign({},n,{render:function(e){var n=e.location;return t?a:i.a.createElement(P.c,{to:{pathname:"/",state:{from:n}}})}}))}));function Ca(){var e=Object(r.useState)(I.routerEndpoints.queries.name),t=Object(d.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(!1),l=Object(d.a)(o,2),c=l[0],u=l[1],m=Object(r.useContext)(V).state,q=J(),B=Object(f.a)(),W=m.user;if(null==W)throw new Error("user cannot be null");return i.a.createElement(U.BrowserRouter,null,i.a.createElement("div",{className:q.root},i.a.createElement(E.a,{className:Object(L.default)(q.appBar,Object(s.a)({},q.appBarShift,c)),position:"fixed"},i.a.createElement(h.a,null,i.a.createElement(v.a,{className:q.menuButton,color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){return u(!c)}},i.a.createElement(x.a,null)),i.a.createElement(y.a,{variant:"h6",noWrap:!0},a))),i.a.createElement("nav",{className:q.drawer},i.a.createElement(b.a,{variant:"persistent",anchor:"left",open:c,classes:{paper:q.drawerPaper},ModalProps:{keepMounted:!0}},i.a.createElement(U.NavLink,{to:I.routerEndpoints.profile.url,key:I.routerEndpoints.profile.name,className:q.linkNoStyle,activeClassName:q.linkActiveStyle},i.a.createElement(g.a,{className:q.nameCardWrapper},i.a.createElement("div",{className:q.nameCard},i.a.createElement("h2",{className:q.nameCardHeader},"Hello,"),i.a.createElement("h2",{className:q.nameCardHeader,style:{color:B.palette.secondary.main}},W.name)))),i.a.createElement(S.a,null),i.a.createElement(O.a,null,i.a.createElement(U.NavLink,{to:I.routerEndpoints.queries.url,key:I.routerEndpoints.queries.name,className:q.linkNoStyle,activeClassName:q.linkActiveStyle},i.a.createElement(w.a,{button:!0},i.a.createElement(j.a,null,i.a.createElement(T.a,null)),i.a.createElement(k.a,{primary:I.routerEndpoints.queries.name}))),i.a.createElement(U.NavLink,{to:I.routerEndpoints.socialMedia.url,key:I.routerEndpoints.socialMedia.name,className:q.linkNoStyle,activeClassName:q.linkActiveStyle},i.a.createElement(w.a,{button:!0},i.a.createElement(j.a,null,i.a.createElement(N.a,null)),i.a.createElement(k.a,{primary:I.routerEndpoints.socialMedia.name}))),i.a.createElement(U.NavLink,{to:I.routerEndpoints.applications.url,key:I.routerEndpoints.applications.name,className:q.linkNoStyle,activeClassName:q.linkActiveStyle},i.a.createElement(w.a,{button:!0},i.a.createElement(j.a,null,i.a.createElement(D.a,null)),i.a.createElement(k.a,{primary:I.routerEndpoints.applications.name})))),i.a.createElement(S.a,null),W.isAdmin&&i.a.createElement(O.a,null,i.a.createElement(U.NavLink,{to:I.routerEndpoints.servers.url,key:I.routerEndpoints.servers.name,className:q.linkNoStyle,activeClassName:q.linkActiveStyle},i.a.createElement(w.a,{button:!0},i.a.createElement(j.a,null,i.a.createElement(C.a,null)),i.a.createElement(k.a,{primary:I.routerEndpoints.servers.name}))),i.a.createElement(U.NavLink,{to:I.routerEndpoints.users.url,key:I.routerEndpoints.users.name,className:q.linkNoStyle,activeClassName:q.linkActiveStyle},i.a.createElement(w.a,{button:!0},i.a.createElement(j.a,null,i.a.createElement(_.a,null)),i.a.createElement(k.a,{primary:I.routerEndpoints.users.name}))),i.a.createElement(U.NavLink,{to:I.routerEndpoints.translator.url,key:I.routerEndpoints.translator.name,className:q.linkNoStyle,activeClassName:q.linkActiveStyle},i.a.createElement(w.a,{button:!0},i.a.createElement(j.a,null,i.a.createElement(A.a,null)),i.a.createElement(k.a,{primary:I.routerEndpoints.translator.name})))),i.a.createElement(S.a,null),i.a.createElement(O.a,null,i.a.createElement(U.NavLink,{to:I.routerEndpoints.help.url,key:I.routerEndpoints.help.name,className:q.linkNoStyle,activeClassName:q.linkActiveStyle},i.a.createElement(w.a,{button:!0},i.a.createElement(j.a,null,i.a.createElement(R.a,null)),i.a.createElement(k.a,{primary:I.routerEndpoints.help.name})))))),i.a.createElement("div",{className:Object(L.default)(q.content,Object(s.a)({},q.contentShift,c))},i.a.createElement(P.g,null,i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.base.url},i.a.createElement(P.c,{from:I.routerEndpoints.base.url,exact:!0,to:I.routerEndpoints.queries.url})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.queries.url},i.a.createElement(ya,{key:I.routerEndpoints.queries.url,routeType:M.LIST,updateTitle:n})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.queries.create.url},i.a.createElement(ya,{key:I.routerEndpoints.queries.create.url,routeType:M.NEW,updateTitle:n})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.queries.history.urlDynamic},i.a.createElement(ya,{key:I.routerEndpoints.queries.history.urlDynamic,routeType:M.HISTORY,updateTitle:n})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.socialMedia.url},i.a.createElement(Na,{updateTitle:n})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.applications.url},i.a.createElement(Ye,{updateTitle:n})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.applications.create.url},i.a.createElement(Ye,{updateTitle:n})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.applications.edit.urlDynamic},i.a.createElement(Ye,{updateTitle:n})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.profile.url},i.a.createElement(rt,{updateTitle:n})),i.a.createElement(P.d,{exact:!0,path:I.routerEndpoints.help.url},i.a.createElement($e,{updateTitle:n})),i.a.createElement(Da,{exact:!0,isAuthenticated:W.isAdmin,path:I.routerEndpoints.servers.url},i.a.createElement(X,{routeType:p.ServerRouteType.LIST,updateTitle:n})),i.a.createElement(Da,{exact:!0,isAuthenticated:W.isAdmin,path:I.routerEndpoints.servers.create.url},i.a.createElement(X,{routeType:p.ServerRouteType.NEW,updateTitle:n})),i.a.createElement(Da,{exact:!0,isAuthenticated:W.isAdmin,path:I.routerEndpoints.servers.edit.urlDynamic},i.a.createElement(X,{routeType:p.ServerRouteType.EDIT,updateTitle:n})),i.a.createElement(Da,{exact:!0,isAuthenticated:W.isAdmin,path:I.routerEndpoints.users.edit.urlDynamic},i.a.createElement(Pe,{updateTitle:n,isEdit:!0})),i.a.createElement(Da,{exact:!0,isAuthenticated:W.isAdmin,path:I.routerEndpoints.users.url},i.a.createElement(Pe,{updateTitle:n,isEdit:!1})),i.a.createElement(Da,{exact:!0,isAuthenticated:W.isAdmin,path:I.routerEndpoints.translator.url},i.a.createElement(Z,{updateTitle:n})),i.a.createElement(P.d,null,i.a.createElement(Ze,null))))))}var _a=Object(Q.a)((function(e){return{root:{display:"flex",flexDirection:"column",maxHeight:"100vh"},content:{height:"100%",overflowY:"auto"},toolbar:{minHeight:96,alignItems:"flex-start",paddingTop:e.spacing(1),paddingBottom:e.spacing(2)},fullWidthTitle:{flexGrow:1,alignSelf:"flex-end"},menuButtonWrapper:{display:"flex",flexDirection:"row"},menuButton:{alignSelf:"center"},linkNoStyle:{color:"inherit",textDecoration:"inherit"}}})),Aa=Object(Q.a)((function(e){return{paper:{padding:"2rem"},title:{color:"#212121",margin:"0 0 2rem 0"},form:{display:"flex",flexDirection:"column"},fieldSeparation:{marginBottom:"1rem"},functionalitySeparation:{marginBottom:"2rem"},button:{marginTop:"1rem"},container:{marginTop:e.spacing(5),marginBottom:e.spacing(5)}}}));function Ra(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),a=t[0],o=t[1],l=Object(r.useState)(""),c=Object(d.a)(l,2),u=c[0],s=c[1],m=Object(r.useState)(""),p=Object(d.a)(m,2),f=p[0],E=p[1],h=Object(r.useState)(""),v=Object(d.a)(h,2),y=v[0],b=v[1],g=Object(r.useState)(re.notificationData.makeEmpty()),S=Object(d.a)(g,2),O=S[0],w=S[1],j=Object(r.useContext)(V).dispatch,k=Aa(),x=Object(P.k)(),T=function(){var e=Object(ae.a)(te.a.mark((function e(){var t,r,i,o,l,c,s,m,p,f,h,v,y,g,S,O,k;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(me.mutate)(E),r=Object(d.a)(t,2),i=r[0],o=r[1],l=Object(me.mutate)(b),c=Object(d.a)(l,2),s=c[0],m=c[1],p=Object(me.mutate)(w),f=Object(d.a)(p,2),h=f[0],v=f[1],e.prev=3,g={email:a,password:u},e.next=7,ce.a.post(oe.apiEndpoints.general.endpoints.loginCredential.url,g);case 7:S=e.sent.data,O=Object(ie.getGeneralError)(S),k=null===(y=S.error)||void 0===y?void 0:y.fieldError,Object(me.joinBoolean)([O?h(re.notificationData.makeError(O)):v(re.notificationData.makeEmpty()),(null===k||void 0===k?void 0:k.email)?i(k.email):o(""),(null===k||void 0===k?void 0:k.password)?s(k.password):m("")])||(j({type:n.SET_USER,payload:S.data}),x.push(I.routerEndpoints.queries.url)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),w(re.notificationData.makeError(Object(ie.getHTTPError)(e.t0)));case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(fe.a,{maxWidth:"sm",className:k.container},i.a.createElement("div",{className:k.paper},i.a.createElement("h1",{className:k.title},"Login"),i.a.createElement("form",{className:k.form,noValidate:!0},i.a.createElement(he.a,{error:""!==f,color:"secondary",className:k.fieldSeparation,id:"standard-basic",label:"Email",helperText:f,onChange:function(e){o(e.target.value)}}),i.a.createElement(he.a,{error:""!==y,color:"secondary",className:k.functionalitySeparation,id:"standard-basic",label:"Password",type:"password",helperText:y,onChange:function(e){s(e.target.value)}}),i.a.createElement(be.a,{className:k.button,color:"secondary",variant:"contained",onClick:T},"SUBMIT"))),i.a.createElement(ne.NotificationSnackBar,{data:O,onClose:function(){return w(re.notificationData.makeEmpty())}}))}function La(){var e=Object(r.useState)({}),t=Object(d.a)(e,2),a=t[0],o=t[1],l=Object(r.useState)({}),c=Object(d.a)(l,2),u=c[0],m=c[1],p=Object(r.useState)(re.notificationData.makeEmpty()),f=Object(d.a)(p,2),E=f[0],h=f[1],v=Object(r.useContext)(V).dispatch,y=Aa(),b=Object(P.k)(),g=Object(me.mutate)(m),S=Object(d.a)(g,2),O=S[0],w=S[1],j=Object(me.mutate)(h),k=Object(d.a)(j,2),x=k[0],T=k[1],N=function(e,t){var a=e.target.value;o((function(e){return Object(q.a)({},e,Object(s.a)({},t,a))}))},D=function(){var e=Object(ae.a)(te.a.mark((function e(){var t,r,i,o,l;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(me.joinBoolean)([Ie.stringDict.isValueNonempty(a,"name")?w((function(e){return Ie.stringDict.unset(e,"name")})):O((function(e){return Ie.stringDict.update(e,"name","Username must not be empty")})),Ie.stringDict.isValueNonempty(a,"email")?w((function(e){return Ie.stringDict.unset(e,"email")})):O((function(e){return Ie.stringDict.update(e,"email","Email must not be empty")})),Ie.stringDict.isValueNonempty(a,"password")?w((function(e){return Ie.stringDict.unset(e,"password")})):O((function(e){return Ie.stringDict.update(e,"password","Password must not be empty")})),Ie.stringDict.isValueNonempty(a,"repeatedPassword")?a.repeatedPassword!==a.password?O((function(e){return Ie.stringDict.update(e,"repeatedPassword","Second password must match the first one")})):w((function(e){return Ie.stringDict.unset(e,"repeatedPassword")})):O((function(e){return Ie.stringDict.update(e,"repeatedPassword","Enter again the password to confirm")})),Ie.stringDict.isValueNonempty(a,"invitationCode")?w((function(e){return Ie.stringDict.unset(e,"invitationCode")})):O((function(e){return Ie.stringDict.update(e,"invitationCode","Invitation code must not be empty")}))])){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r={name:a.name,password:a.password,invitationCode:a.invitationCode,email:a.email},e.next=6,ce.a.post(oe.apiEndpoints.general.endpoints.registerCredential.url,r);case 6:i=e.sent.data,o=Object(ie.getGeneralError)(i),l=null===(t=i.error)||void 0===t?void 0:t.fieldError,Object(me.joinBoolean)([o?x(re.notificationData.makeError(o)):T(re.notificationData.makeEmpty()),(null===l||void 0===l?void 0:l.password)?O((function(e){return Ie.stringDict.update(e,"password",l.password)})):w((function(e){return Ie.stringDict.unset(e,"password")})),(null===l||void 0===l?void 0:l.email)?O((function(e){return Ie.stringDict.update(e,"email",l.email)})):w((function(e){return Ie.stringDict.unset(e,"email")})),(null===l||void 0===l?void 0:l.invitationCode)?O((function(e){return Ie.stringDict.update(e,"invitationCode",l.invitationCode)})):w((function(e){return Ie.stringDict.unset(e,"invitationCode")})),(null===l||void 0===l?void 0:l.name)?O((function(e){return Ie.stringDict.update(e,"name",l.name)})):w((function(e){return Ie.stringDict.unset(e,"name")}))])||(b.push(I.routerEndpoints.queries.url),v({type:n.SET_USER,payload:i.data})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),h(re.notificationData.makeError(Object(ie.getHTTPError)(e.t0)));case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(fe.a,{maxWidth:"sm",className:y.container},i.a.createElement("div",{className:y.paper},i.a.createElement("h1",{className:y.title},"Register"),i.a.createElement("form",{className:y.form,noValidate:!0},i.a.createElement(he.a,{error:Ie.stringDict.isValueNonempty(u,"name"),color:"secondary",className:y.fieldSeparation,id:"standard-basic",label:"Username",helperText:Ie.stringDict.getValueWithDefault(u,"name"),onChange:function(e){return N(e,"name")}}),i.a.createElement(he.a,{error:Ie.stringDict.isValueNonempty(u,"email"),color:"secondary",className:y.fieldSeparation,id:"standard-basic",label:"Email",helperText:Ie.stringDict.getValueWithDefault(u,"email"),onChange:function(e){return N(e,"email")}}),i.a.createElement(he.a,{error:Ie.stringDict.isValueNonempty(u,"password"),color:"secondary",className:y.fieldSeparation,id:"standard-basic",label:"Password",type:"password",helperText:Ie.stringDict.getValueWithDefault(u,"password"),onChange:function(e){return N(e,"password")}}),i.a.createElement(he.a,{error:Ie.stringDict.isValueNonempty(u,"repeatedPassword"),color:"secondary",className:y.fieldSeparation,id:"standard-basic",label:"Re-enter Password",type:"password",helperText:Ie.stringDict.getValueWithDefault(u,"repeatedPassword"),onChange:function(e){return N(e,"repeatedPassword")}}),i.a.createElement(he.a,{error:Ie.stringDict.isValueNonempty(u,"invitationCode"),color:"secondary",className:y.functionalitySeparation,id:"standard-basic",label:"Invitation Code",helperText:Ie.stringDict.getValueWithDefault(u,"invitationCode"),onChange:function(e){return N(e,"invitationCode")}}),i.a.createElement(be.a,{className:y.button,color:"secondary",variant:"contained",onClick:D},"SUBMIT"))),i.a.createElement(ne.NotificationSnackBar,{data:E,onClose:function(){return h(re.notificationData.makeEmpty())}}))}function Pa(){var e=_a();return i.a.createElement(U.BrowserRouter,null,i.a.createElement("div",{className:e.root},i.a.createElement(E.a,{position:"static"},i.a.createElement(h.a,{className:e.toolbar},i.a.createElement(y.a,{variant:"h5",className:e.fullWidthTitle},"Listen Online: The Application"),i.a.createElement("div",{className:e.menuButtonWrapper},i.a.createElement(be.a,{color:"inherit",className:e.menuButton},i.a.createElement(U.Link,{className:e.linkNoStyle,to:I.unauthorizedRouterEndpoints.login.url},"Login")),i.a.createElement(be.a,{color:"inherit",className:e.menuButton},i.a.createElement(U.Link,{className:e.linkNoStyle,to:I.unauthorizedRouterEndpoints.register.url},"Register")),i.a.createElement(Xt.a,{title:"project main page"},i.a.createElement(v.a,{className:e.menuButton,color:"inherit",onClick:function(){return window.open(oe.pageEndpoints.projectMainPage.url,"_blank")}},i.a.createElement(Ke.a,null)))))),i.a.createElement("div",{className:e.content},i.a.createElement(P.g,null,i.a.createElement(P.d,{exact:!0,path:I.unauthorizedRouterEndpoints.base.url},i.a.createElement(Ra,null)),i.a.createElement(P.d,{exact:!0,path:I.unauthorizedRouterEndpoints.login.url},i.a.createElement(Ra,null)),i.a.createElement(P.d,{exact:!0,path:I.unauthorizedRouterEndpoints.register.url},i.a.createElement(La,null)),i.a.createElement(P.d,null,i.a.createElement(Ze,null))))))}var Ua={palette:{primary:{main:"#eceff1"},secondary:{main:"#ed1250"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}};function Ia(){var e=null!=Object(r.useContext)(V).state.user,t=i.a.createElement(Pa,null),a=i.a.createElement(Ca,null);return i.a.createElement(u.a,{theme:Object(c.a)(Ua)},e?a:t)}a(1797),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement((function(){return i.a.createElement(G,null,i.a.createElement(Ia,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},19:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(85);function r(e){return n.APP_BASE_URL+e}t.routerEndpoints={base:{url:n.APP_BASE_URL},socialMedia:{url:r("/soc"),name:"Social Media"},queries:{url:r("/q"),name:"Queries",create:{url:r("/q/create")},history:{paramName:"name",urlBase:"/q/history/",urlDynamic:"/q/history/:name"}},metaQueries:{url:r("/mq"),name:"Meta Queries"},applications:{url:r("/app"),name:"Applications",edit:{paramName:"id",urlBase:"/app/edit/",urlDynamic:"/app/edit/:id"},create:{url:r("/app/create")}},servers:{url:r("/ad-servers"),name:"Servers",create:{url:r("/ad-servers/create")},edit:{paramName:"id",urlBase:"/ad-servers/edit/",urlDynamic:"/ad-servers/edit/:id"}},users:{url:r("/ad-users"),name:"Users",edit:{paramName:"name",urlBase:"/ad-users/edit/",urlDynamic:"/ad-users/edit/:name"}},help:{url:r("/help"),name:"Help"},invalid:{url:r("/404")},translator:{url:r("/translate"),name:"Translator"},profile:{url:r("/profile"),name:"Profile"}},t.unauthorizedRouterEndpoints={base:{url:n.APP_BASE_URL},login:{url:r("/login")},register:{url:r("/register")}}},20:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notificationData={makeError:function(e){return{isError:!0,message:e}},makeSuccess:function(e){return{isError:!1,message:e}},makeEmpty:function(){return{isError:!0,message:null}}}},208:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/^\s*$/;function r(e){return!e||0===e.length||n.test(e)}t.isStringEmpty=r,t.isValidNumber=function(e){var t=e.trim();return""!==t&&(!!/^[0-9,.]*$/.test(t)&&!isNaN(+t))},t.isValidURL=function(e){return!r(e)};var i=/\S+@\S+\.\S+/;t.isValidEmail=function(e){return!r(e)&&i.test(e)},t.isObjectEmpty=function(e){return e.constructor===Object&&0===Object.keys(e).length}},281:function(e,t,a){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(a(614)),l=r(a(1096)),c=r(a(1097)),u=r(a(1098)),s=r(a(1099)),d=i(a(0));t.materialTableIcons={FirstPage:d.forwardRef((function(e,t){return d.default.createElement(l.default,n({},e,{ref:t}))})),LastPage:d.forwardRef((function(e,t){return d.default.createElement(s.default,n({},e,{ref:t}))})),NextPage:d.forwardRef((function(e,t){return d.default.createElement(u.default,n({},e,{ref:t}))})),PreviousPage:d.forwardRef((function(e,t){return d.default.createElement(c.default,n({},e,{ref:t}))})),SortArrow:d.forwardRef((function(e,t){return d.default.createElement(o.default,n({},e,{ref:t}))}))}},314:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ADD=0]="ADD",e[e.DELETE=1]="DELETE",e[e.UPDATE=2]="UPDATE"}(t.ServerUpdateType||(t.ServerUpdateType={})),function(e){e[e.LIST=0]="LIST",e[e.NEW=1]="NEW",e[e.EDIT=2]="EDIT"}(t.ServerRouteType||(t.ServerRouteType={})),function(e){e[e.NEW=0]="NEW",e[e.DETAIL=1]="DETAIL",e[e.NONE=2]="NONE"}(t.ServerListOption||(t.ServerListOption={})),function(e){e[e.DELETE=0]="DELETE",e[e.SAVE=1]="SAVE",e[e.NONE=2]="NONE",e[e.BACK=3]="BACK"}(t.ServerEditOption||(t.ServerEditOption={}))},37:function(e,t,a){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=a(208);t.stringDict={update:function(e,t,a){var r;return n(n({},e),((r={})[t]=a,r))},unset:function(e,t){var a=e,i=t,o=(a[i],r(a,["symbol"===typeof i?i:i+""]));return n({},o)},isValueNonempty:function(e,t){return!!e.hasOwnProperty(t)&&!i.isStringEmpty(e[t])},validate:function(e,t,a){return!!e.hasOwnProperty(t)&&a(e[t])},isValueEmpty:function(e,a){return!t.stringDict.isValueNonempty(e,a)},getValueWithDefault:function(e,a){return t.stringDict.isValueNonempty(e,a)?e[a]:""}}},60:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHTTPError=function(e){return e.response?"\n        Error happened at server:\n        data: "+e.response.data+",\n        status: "+e.response.status+"\n        ":e.request?"\n        Error happened during response:\n        request: "+e.request+"\n        ":"\n        Error happened during request:\n        message: "+e.message+"\n        "},t.getGeneralError=function(e){return e.error&&e.error.generalError&&0!==e.error.generalError.length?"Error happened at server: \n"+e.error.generalError.join("\n"):null}},718:function(e,t,a){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=a(94),i=a(107);t.serverStyles=i.makeStyles((function(e){return n(n(n(n(n({},r.commonPageStyles(e)),r.errorButtonStyles(e)),r.commonButtonStyles(e)),r.formStyles(e)),{detailPanelItemTitle:{fontWeight:500},detailPanelItemContent:{},grid:{maxWidth:"100%"},indentedGrid:{padding:e.spacing(2,0,2,10)},indentedGridItem:{marginLeft:e.spacing(4)}})}))},85:function(e,t,a){"use strict";var n,r;function i(e){return t.APP_BASE_URL+"/api"+e}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.POST="post",e.GET="get",e.PUT="put"}(n=t.APIMethod||(t.APIMethod={})),function(e){e[e.NO_AUTH=0]="NO_AUTH",e[e.USER=1]="USER",e[e.ADMIN=2]="ADMIN"}(r=t.APIAuthLevel||(t.APIAuthLevel={})),t.APP_BASE_URL="/app",t.pageEndpoints={projectMainPage:{url:"/",authorization:r.NO_AUTH,description:"Redirect to main page. Note that this app has a different base url than the main page"},projectAppPage:{url:t.APP_BASE_URL,authorization:r.NO_AUTH,description:"Redirect to this app"}};var o={loginCredential:{url:i("/auth/login"),method:n.POST,body:{},response:{},authorization:r.NO_AUTH},registerCredential:{url:i("/auth/register"),method:n.POST,body:{},response:{},authorization:r.NO_AUTH},logOutCredential:{url:i("/auth/logout"),method:n.GET,authorization:r.USER}},l={serversList:{url:i("/servers"),method:n.GET,response:{},authorization:r.ADMIN},serverUpdate:{url:i("/server/update"),method:n.PUT,body:{},response:{},authorization:r.ADMIN},serverRefresh:{url:i("/server/refresh"),method:n.GET,parameters:{},response:{},authorization:r.ADMIN}},c={socialMediaList:{url:i("/social-media-platforms"),method:n.GET,response:{},authorization:r.USER},socialMediaAuth:{url:i("/social-media-socket"),method:n.GET,query:"",parameters:{},response:{}}},u={queriesList:{url:i("/queries"),method:n.GET,response:{},authorization:r.USER},querySourcesList:{url:i("/query/sources"),method:n.GET,response:{},authorization:r.USER},queryFullSchema:{url:i("/query/full-schema"),method:n.GET,parameters:{},response:{},authorization:r.USER,description:"get the full, unfilled schema from source"},queryUpdate:{url:i("/query/update"),method:n.PUT,body:{},response:{},authorization:r.USER},queryExecute:{url:i("/query/execute"),method:n.PUT,body:{},response:{},authorization:r.USER},queryHistoryRecordsList:{url:i("/query/history-records"),method:n.GET,parameters:{},response:{},authorization:r.USER}},s={usersList:{url:i("/users"),method:n.GET,response:{},authorization:r.ADMIN},userUpdate:{url:i("/user/update"),method:n.PUT,body:{},response:{},authorization:r.ADMIN}},d={applicationList:{url:i("/applications"),method:n.GET,response:{},authorization:r.USER},applicationUpdate:{url:i("/application/update"),method:n.PUT,body:{},response:{},authorization:r.USER}};t.apiEndpoints={general:{baseURL:{single:i("/auth")},endpoints:o},server:{baseURL:{single:i("/server"),multiple:i("/servers")},endpoints:l},socialMedia:{baseURL:{multiple:i("/social-media-platforms")},endpoints:c},query:{baseURL:{multiple:i("/queries"),single:i("/query")},endpoints:u},user:{baseURL:{multiple:i("/users"),single:i("/user")},endpoints:s},application:{baseURL:{multiple:i("/applications"),single:i("/application")},endpoints:d}}},94:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(109),r=a(374),i=a(107);t.commonPageStyles=function(e){return n.createStyles({titleStyle:{margin:e.spacing(0,0,2,0),color:"#212121",height:"2.5rem"},helperTextStyle:{display:"block",margin:e.spacing(0,0,2,0),color:"#757575"}})},t.errorButtonStyles=function(e){return n.createStyles({errorButton:{color:e.palette.getContrastText(r.blueGrey[700]),backgroundColor:r.blueGrey[700],"&:hover":{backgroundColor:r.blueGrey[900]}}})},t.commonButtonStyles=function(e){return n.createStyles({buttonWrapper:{display:"flex",flexDirection:"row"},buttonRightGap:{marginRight:e.spacing(2)},buttonRightEnd:{marginLeft:"auto"}})},t.formStyles=function(e){return n.createStyles({form:{margin:e.spacing(4,0)}})},t.snackBarStyles=i.makeStyles((function(e){return{content:{height:"auto",whiteSpace:"pre-line"},success:{color:r.green[400]}}}))},956:function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function o(e){try{c(n.next(e))}catch(t){i(t)}}function l(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,l)}c((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(l){i=[6,l],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},i=this&&this.__read||function(e,t){var a="function"===typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(l){r={error:l}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=a(100),c=a(20),u=a(60),s=o(a(0)),d=a(115),m=a(19),p=a(314),f=a(1076),E=a(1093),h=a(1095);t.ServerManagement=s.memo((function(e){var t=e.data,a=e.onChange,o=d.useParams()[m.routerEndpoints.servers.edit.paramName],v=i(s.useState(c.notificationData.makeEmpty()),2),y=v[0],b=v[1];s.useEffect((function(){var e=!0;if(null==t)return n(void 0,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,f.loadServers(a,e)];case 1:return t=r.sent(),e&&b(t),[3,3];case 2:return n=r.sent(),b(c.notificationData.makeError(u.getHTTPError(n))),[3,3];case 3:return[2]}}))})),function(){e=!1}}),[t,a]);var g,S=null!==t&&void 0!==t?t:new Map,O=function(e){var t=new Map(S),n=e.data;switch(e.type){case p.ServerUpdateType.ADD:case p.ServerUpdateType.UPDATE:t.has(o)&&t.delete(o),t.set(n.name,n);break;case p.ServerUpdateType.DELETE:t.delete(n.name);break;default:return void b(c.notificationData.makeError("Invalid ServerUpdateType"))}b(c.notificationData.makeSuccess("Successfully updated servers")),console.log(t.size),a(t)};switch(e.routeType){case p.ServerRouteType.LIST:g=s.default.createElement(h.ServerList,{servers:S});break;case p.ServerRouteType.EDIT:g=S.has(o)?s.default.createElement(E.ServerEdit,{onSave:function(e){return O({data:e,type:p.ServerUpdateType.UPDATE})},server:S.get(o),onDelete:function(e){return O({data:e,type:p.ServerUpdateType.DELETE})}}):s.default.createElement(h.ServerList,{servers:S});break;case p.ServerRouteType.NEW:g=s.default.createElement(E.ServerEdit,{onSave:function(e){return O({data:e,type:p.ServerUpdateType.ADD})}});break;default:throw new Error("Invalid Server Management Enum Prop")}return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",null,g),s.default.createElement(l.NotificationSnackBar,{data:y,onClose:function(){return b({isError:!1,message:null})}}))}))}},[[1067,1,2]]]);
//# sourceMappingURL=main.940f0617.chunk.js.map